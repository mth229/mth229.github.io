<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Approximate derivatives in Julia – MTH229 with Julia</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./newton.html" rel="next">
<link href="./limits.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-018089954d508eae8a473f0b7f0491f0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-75bd732ee74a0ba26fe67d77831af1f2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./calculator.html">MTH229 notes</a></li><li class="breadcrumb-item"><a href="./derivatives.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Approximate derivatives in Julia</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">MTH229 with Julia</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/MTH229/mth229.github.io/tree/master/quarto/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">MTH229 notes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./calculator.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Julia as a calculator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Functions in Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./graphing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Graphing functions with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zeros.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Solving for zeros with julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limits.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Investigating limits with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./derivatives.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Approximate derivatives in Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./newton.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Newton’s method using julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./first-second-derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Exploring first and second derivatives with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./extrema.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Maximization and minimization with Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Numeric integration with Julia</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">MTH232 and 233</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./symbolic-math.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Using symbolic math within Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mth232.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Notes on MTH 232 and Julia</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mth233.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Notes on MTH 233 and Julia</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">6.1</span> Introduction</a></li>
  <li><a href="#forward-difference-quotients-slope-of-the-tangent-line" id="toc-forward-difference-quotients-slope-of-the-tangent-line" class="nav-link" data-scroll-target="#forward-difference-quotients-slope-of-the-tangent-line"><span class="header-section-number">6.2</span> Forward difference quotients, Slope of the tangent line</a>
  <ul class="collapse">
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice"><span class="header-section-number">6.2.1</span> Practice</a></li>
  </ul></li>
  <li><a href="#derivative-of-a-function" id="toc-derivative-of-a-function" class="nav-link" data-scroll-target="#derivative-of-a-function"><span class="header-section-number">6.3</span> Derivative of a function</a>
  <ul class="collapse">
  <li><a href="#practice-1" id="toc-practice-1" class="nav-link" data-scroll-target="#practice-1"><span class="header-section-number">6.3.1</span> Practice</a></li>
  </ul></li>
  <li><a href="#improvements-to-the-basic-forward-difference-quotient" id="toc-improvements-to-the-basic-forward-difference-quotient" class="nav-link" data-scroll-target="#improvements-to-the-basic-forward-difference-quotient"><span class="header-section-number">6.4</span> Improvements to the basic forward difference quotient</a>
  <ul class="collapse">
  <li><a href="#central-difference-quotient" id="toc-central-difference-quotient" class="nav-link" data-scroll-target="#central-difference-quotient"><span class="header-section-number">6.4.1</span> Central difference quotient</a></li>
  <li><a href="#practice-2" id="toc-practice-2" class="nav-link" data-scroll-target="#practice-2"><span class="header-section-number">6.4.2</span> Practice</a></li>
  </ul></li>
  <li><a href="#automatic-differentiation" id="toc-automatic-differentiation" class="nav-link" data-scroll-target="#automatic-differentiation"><span class="header-section-number">6.5</span> Automatic differentiation</a>
  <ul class="collapse">
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">6.5.1</span> Examples</a></li>
  <li><a href="#practice-3" id="toc-practice-3" class="nav-link" data-scroll-target="#practice-3"><span class="header-section-number">6.5.2</span> Practice</a></li>
  </ul></li>
  <li><a href="#error-analysis" id="toc-error-analysis" class="nav-link" data-scroll-target="#error-analysis"><span class="header-section-number">6.6</span> Error analysis</a>
  <ul class="collapse">
  <li><a href="#approximation-errors-for-the-central-difference-quotient" id="toc-approximation-errors-for-the-central-difference-quotient" class="nav-link" data-scroll-target="#approximation-errors-for-the-central-difference-quotient"><span class="header-section-number">6.6.1</span> Approximation errors for the central difference quotient</a></li>
  <li><a href="#practice-4" id="toc-practice-4" class="nav-link" data-scroll-target="#practice-4"><span class="header-section-number">6.6.2</span> Practice</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/MTH229/mth229.github.io/edit/master/quarto/derivatives.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/MTH229/mth229.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./calculator.html">MTH229 notes</a></li><li class="breadcrumb-item"><a href="./derivatives.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Approximate derivatives in Julia</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Approximate derivatives in Julia</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><br> A notebook for this material: <a href="https://raw.githubusercontent.com/mth229/229-projects/master/06-derivatives.ipynb">ipynb</a></p>
<section id="introduction" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">6.1</span> Introduction</h2>
<p>We load our packages to begin.</p>
<div id="187788ad" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">MTH229</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plotly</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>Plots.PlotlyBackend()</code></pre>
</div>
</div>
<p>Single-variable calculus has two main concepts: the derivative and the integral, both defined in terms of a third important concept: the limit. The derivative is what we discuss here. The derivative allows us to talk about a tangent line to a curve. This is often called a line that touches the curve at just one point, but that isn’t quite correct, though often the case locally. A better idea would be to say it is the line that best approximates the curve at that point. That is, if we were to zoom in to the graph it might appear to look straight, and that straightness would have a slope that would match the tangent line. This idea leads to a primary use of the derivative – to approximate functions with simpler lines. Of course, this intuition is informal, a definition is in terms of the slope of approximating secant lines.</p>
<p>Historically, Fermat, in a treatise on finding maxima and minima, approached the problem of finding the tangent line by comparing the value of <span class="math inline">\(f(x)\)</span> to a nearby value <span class="math inline">\(f(x+h)\)</span>. Working with polynomials, meant that subtracting <span class="math inline">\(f(x+h) - f(x)\)</span> led to a polynomial in <span class="math inline">\(h\)</span>. Dividing by <span class="math inline">\(h\)</span> and then setting <span class="math inline">\(h=0\)</span> yields an answer for the slope.</p>
<p>The more modern approach (well Cauchy in the 1820s) defines the derivative of a function, <span class="math inline">\(f\)</span>, at a point <span class="math inline">\(c\)</span> as the slope of the <em>tangent line</em>, defined in terms of the <em>limit</em> of the slopes of approximating secant lines. The notation is:</p>
<p><span class="math display">\[
f'( c ) = \lim_{h \rightarrow 0} \frac{f(c + h) - f( c)}{h}.\quad\text{Derivative at a point}
\]</span></p>
<p>As mentioned, intuitively, the tangent line is the best straight-line approximation to a function near the point <span class="math inline">\((c, f( c))\)</span> and would have slope given by the derivative.</p>
<p>This graph shows <span class="math inline">\(f(x) = 2 - x^2\)</span> and various secant lines when <span class="math inline">\(c=-0.75\)</span>.</p>
<div id="67017640" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fl">2</span> <span class="op">-</span> x<span class="op">^</span><span class="fl">2</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="op">-</span><span class="fl">0.75</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">slh</span>(h) <span class="op">=</span> <span class="fu">secant</span>(f, c, c<span class="op">+</span>h)                <span class="co"># secant from the MTH229 package</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span>, legend<span class="op">=</span><span class="cn">false</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(<span class="fu">slh</span>(<span class="fl">1</span>))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(<span class="fu">slh</span>(<span class="fl">0.75</span>))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(<span class="fu">slh</span>(<span class="fl">0.5</span>))</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(<span class="fu">slh</span>(<span class="fl">0.25</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
    <div id="d941414a-57ec-4994-821b-4db4f51c5efa" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('d941414a-57ec-4994-821b-4db4f51c5efa', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            -1.0,
            -0.9896762935150668,
            -0.9793525870301336,
            -0.9491200841997223,
            -0.9188875813693108,
            -0.8886550785388994,
            -0.858422575708488,
            -0.8302942643455941,
            -0.8021659529827001,
            -0.7833147421788359,
            -0.7644635313749717,
            -0.7456123205711076,
            -0.7267611097672434,
            -0.695607273469137,
            -0.6644534371710307,
            -0.6354834580373834,
            -0.6065134789037361,
            -0.5701462062807647,
            -0.5337789336577933,
            -0.501157295255418,
            -0.46853565685304266,
            -0.4498657224434135,
            -0.43119578803378433,
            -0.41252585362415517,
            -0.39385591921452595,
            -0.36594436804822855,
            -0.33803281688193115,
            -0.3023334102855272,
            -0.26663400368912327,
            -0.234051020877664,
            -0.20146803806620475,
            -0.18292630928818787,
            -0.16438458051017102,
            -0.14584285173215417,
            -0.1273011229541373,
            -0.09790420844675479,
            -0.06850729393937226,
            -0.031985414663261096,
            0.004536464612850068,
            0.03250632104259564,
            0.06047617747234121,
            0.08019292210752664,
            0.09990966674271208,
            0.1196264113778975,
            0.13934315601308295,
            0.1688110825334521,
            0.19827900905382123,
            0.23179066021924047,
            0.2653023113846597,
            0.2984903551940694,
            0.3316783990034792,
            0.36819132788542647,
            0.40470425676737376,
            0.43259382867878415,
            0.46048340059019455,
            0.4956776436058326,
            0.5308718866214707,
            0.5634228893083829,
            0.5959738919952952,
            0.6295446158471784,
            0.6631153396990616,
            0.6971431441323857,
            0.7311709485657096,
            0.7667023596732072,
            0.8022337707807048,
            0.8302235589701968,
            0.8582133471596889,
            0.8900842220416394,
            0.9219550969235898,
            0.9538259718055402,
            0.9856968466874907,
            0.989272635015618,
            0.9928484233437453,
            0.9964242116718727,
            1.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.0,
            1.0205408340542794,
            1.0408685102773845,
            1.0991710657687122,
            1.1556456128052583,
            1.2102921513870226,
            1.2631106815140052,
            1.3106114345948088,
            1.3565297838753567,
            1.3864180146853038,
            1.4155955091977077,
            1.4440622674125678,
            1.4718182893298848,
            1.5161305210968332,
            1.5585016298316032,
            1.5961607745608493,
            1.6321413999080874,
            1.6749333034636518,
            1.7150800499831491,
            1.7488413654122739,
            1.7804743382572878,
            1.7976208317704656,
            1.8140701923819238,
            1.8298224200916622,
            1.8448775148996808,
            1.8660847194937826,
            1.8857338147108669,
            1.908594509025123,
            1.9289063080767086,
            1.9452201196261232,
            1.9594106296377543,
            1.9665379653702022,
            1.972977709690495,
            1.978729862598633,
            1.9837944240946157,
            1.9904147659684144,
            1.9953067506771045,
            1.9989769332488192,
            1.9999794204888164,
            1.9989433390922757,
            1.996342631958334,
            1.993569095243856,
            1.9900180584913603,
            1.9856895217008461,
            1.9805834848723136,
            1.971502818413884,
            1.9606854345686346,
            1.9462730898351286,
            1.9296146835739572,
            1.9109035078561183,
            1.889989439634489,
            1.8644351460699664,
            1.8362144645543677,
            1.8128625793890307,
            1.7879550377808904,
            1.7543036736293691,
            1.7181750399949605,
            1.6825546478033937,
            1.6448151200599803,
            1.6036735766578287,
            1.5602780462557981,
            1.5139914365892118,
            1.4653890439735204,
            1.412167491671536,
            1.3564209770189715,
            1.31072884213086,
            1.2634698507569633,
            1.2077500776725296,
            1.1499987992566143,
            1.0902160155092169,
            1.0284017264303373,
            1.0213396536092558,
            1.0142520082638389,
            1.007138790394087,
            1.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            -1.0,
            -0.9793525870301336,
            -0.858422575708488,
            -0.8021659529827001,
            -0.7267611097672434,
            -0.6644534371710307,
            -0.6065134789037361,
            -0.5337789336577933,
            -0.46853565685304266,
            -0.39385591921452595,
            -0.33803281688193115,
            -0.26663400368912327,
            -0.20146803806620475,
            -0.1273011229541373,
            -0.06850729393937226,
            0.004536464612850068,
            0.06047617747234121,
            0.13934315601308295,
            0.19827900905382123,
            0.2653023113846597,
            0.3316783990034792,
            0.40470425676737376,
            0.46048340059019455,
            0.5308718866214707,
            0.5959738919952952,
            0.6631153396990616,
            0.7311709485657096,
            0.8022337707807048,
            0.8582133471596889,
            0.9856968466874907,
            1.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.3125,
            1.3228237064849333,
            1.383288712145756,
            1.4114170235086498,
            1.4491194451163782,
            1.4802732814144846,
            1.509243260548132,
            1.5456105331711034,
            1.5782321715734786,
            1.615572040392737,
            1.6434835915590345,
            1.6791829981554383,
            1.7117659809668977,
            1.7488494385229314,
            1.7782463530303139,
            1.8147682323064251,
            1.8427380887361706,
            1.8821715780065413,
            1.9116395045269106,
            1.9451511556923298,
            1.9783391995017396,
            2.014852128383687,
            2.0427417002950974,
            2.0779359433107354,
            2.1104869459976476,
            2.1440576698495306,
            2.178085474282855,
            2.213616885390352,
            2.2416066735798443,
            2.3053484233437453,
            2.3125
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            -1.0,
            -0.9793525870301336,
            -0.858422575708488,
            -0.8021659529827001,
            -0.7267611097672434,
            -0.6644534371710307,
            -0.6065134789037361,
            -0.5337789336577933,
            -0.46853565685304266,
            -0.39385591921452595,
            -0.33803281688193115,
            -0.26663400368912327,
            -0.20146803806620475,
            -0.1273011229541373,
            -0.06850729393937226,
            0.004536464612850068,
            0.06047617747234121,
            0.13934315601308295,
            0.19827900905382123,
            0.2653023113846597,
            0.3316783990034792,
            0.40470425676737376,
            0.46048340059019455,
            0.5308718866214707,
            0.5959738919952952,
            0.6631153396990616,
            0.7311709485657096,
            0.8022337707807048,
            0.8582133471596889,
            0.9856968466874907,
            1.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y3",
        "legendgroup": "y3",
        "line": {
            "color": "rgba(62, 164, 78, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.25,
            1.2654855597273997,
            1.356183068218634,
            1.398375535262975,
            1.4549291676745675,
            1.501659922121727,
            1.5451148908221979,
            1.599665799756655,
            1.648598257360218,
            1.7046080605891056,
            1.7464753873385517,
            1.8000244972331576,
            1.8488989714503465,
            1.904524157784397,
            1.948619529545471,
            2.0034023484596375,
            2.0453571331042557,
            2.1045073670098122,
            2.148709256790366,
            2.198976733538495,
            2.2487587992526095,
            2.30352819257553,
            2.345362550442646,
            2.398153914966103,
            2.4469804189964712,
            2.4973365047742964,
            2.548378211424282,
            2.6016753280855287,
            2.643660010369767,
            2.739272635015618,
            2.75
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            -1.0,
            -0.9793525870301336,
            -0.858422575708488,
            -0.8021659529827001,
            -0.7267611097672434,
            -0.6644534371710307,
            -0.6065134789037361,
            -0.5337789336577933,
            -0.46853565685304266,
            -0.39385591921452595,
            -0.33803281688193115,
            -0.26663400368912327,
            -0.20146803806620475,
            -0.1273011229541373,
            -0.06850729393937226,
            0.004536464612850068,
            0.06047617747234121,
            0.13934315601308295,
            0.19827900905382123,
            0.2653023113846597,
            0.3316783990034792,
            0.40470425676737376,
            0.46048340059019455,
            0.5308718866214707,
            0.5959738919952952,
            0.6631153396990616,
            0.7311709485657096,
            0.8022337707807048,
            0.8582133471596889,
            0.9856968466874907,
            1.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y4",
        "legendgroup": "y4",
        "line": {
            "color": "rgba(195, 113, 210, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.1875,
            1.2081474129698664,
            1.329077424291512,
            1.3853340470173,
            1.4607388902327565,
            1.5230465628289693,
            1.580986521096264,
            1.6537210663422068,
            1.7189643431469572,
            1.793644080785474,
            1.849467183118069,
            1.9208659963108767,
            1.9860319619337954,
            2.060198877045863,
            2.1189927060606277,
            2.1920364646128503,
            2.2479761774723412,
            2.3268431560130827,
            2.385779009053821,
            2.4528023113846595,
            2.5191783990034793,
            2.5922042567673738,
            2.6479834005901948,
            2.718371886621471,
            2.7834738919952953,
            2.8506153396990617,
            2.9186709485657096,
            2.989733770780705,
            3.0457133471596887,
            3.1731968466874907,
            3.1875
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            -1.0,
            -0.9793525870301336,
            -0.858422575708488,
            -0.8021659529827001,
            -0.7267611097672434,
            -0.6644534371710307,
            -0.6065134789037361,
            -0.5337789336577933,
            -0.46853565685304266,
            -0.39385591921452595,
            -0.33803281688193115,
            -0.26663400368912327,
            -0.20146803806620475,
            -0.1273011229541373,
            -0.06850729393937226,
            0.004536464612850068,
            0.06047617747234121,
            0.13934315601308295,
            0.19827900905382123,
            0.2653023113846597,
            0.3316783990034792,
            0.40470425676737376,
            0.46048340059019455,
            0.5308718866214707,
            0.5959738919952952,
            0.6631153396990616,
            0.7311709485657096,
            0.8022337707807048,
            0.8582133471596889,
            0.9856968466874907,
            1.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y5",
        "legendgroup": "y5",
        "line": {
            "color": "rgba(172, 142, 24, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.125,
            1.150809266212333,
            1.30197178036439,
            1.3722925587716248,
            1.4665486127909457,
            1.5444332035362116,
            1.61685815137033,
            1.7077763329277584,
            1.7893304289336966,
            1.8826801009818426,
            1.9524589788975861,
            2.0417074953885956,
            2.1231649524172442,
            2.215873596307328,
            2.2893658825757845,
            2.3806705807660626,
            2.4505952218404268,
            2.5491789450163536,
            2.6228487613172766,
            2.7066278892308246,
            2.789597998754349,
            2.8808803209592173,
            2.9506042507377432,
            3.0385898582768385,
            3.1199673649941193,
            3.203894174623827,
            3.288963685707137,
            3.377792213475881,
            3.4477666839496113,
            3.6071210583593634,
            3.625
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": false,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -1.0,
            -0.5,
            0.0,
            0.5,
            1.0
        ],
        "range": [
            -1.06,
            1.06
        ],
        "domain": [
            0.04554118235220598,
            0.9941413573303336
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−1.0",
            "−0.5",
            "0.0",
            "0.5",
            "1.0"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            1.0,
            1.5,
            2.0,
            2.5,
            3.0,
            3.5
        ],
        "range": [
            0.9212499999999999,
            3.7037500000000003
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "1.0",
            "1.5",
            "2.0",
            "2.5",
            "3.0",
            "3.5"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>As the value of <span class="math inline">\(h\)</span> goes towards 0 along the path <span class="math inline">\(1\)</span>, <span class="math inline">\(0.75\)</span>, <span class="math inline">\(0.5\)</span>, <span class="math inline">\(0.25\)</span>, … the slope of the secant line heads towards the slope of the tangent line, in this case <span class="math inline">\(2\cdot 0.75 = 1.5\)</span>.</p>
<p>Using the idea of a derivative at a point, one defines the derivative of the function <span class="math inline">\(f\)</span> to be the function which for each <span class="math inline">\(x\)</span> returns the derivative of <span class="math inline">\(f\)</span> at the point <span class="math inline">\(x\)</span>. Notationally, this just replaces <span class="math inline">\(c\)</span> above with <span class="math inline">\(x\)</span>, but conceptually there is a bit more to it.</p>
</section>
<section id="forward-difference-quotients-slope-of-the-tangent-line" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="forward-difference-quotients-slope-of-the-tangent-line"><span class="header-section-number">6.2</span> Forward difference quotients, Slope of the tangent line</h2>
<p>The rules of derivatives allow for a mechanical approach to taking derivatives with the power rule, chain rule and some special cases. In this project we look at approaching the derivative numerically. We start by investigating <em>approximate derivatives</em> computed with <em>finite difference quotients</em>.</p>
<p>The most naive approximation is simply to assume <span class="math inline">\(h\)</span> is some small number and use that to approximate the limit above:</p>
<div id="48ec55c5" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="fl">2</span>x</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fl">2</span>x <span class="op">-</span> <span class="fl">2</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>h <span class="op">=</span> <span class="fl">.001</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="fl">3</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>( <span class="fu">f</span>(c <span class="op">+</span> h) <span class="op">-</span> <span class="fu">f</span>(c) ) <span class="op">/</span> h</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>4.000999999999699</code></pre>
</div>
</div>
<p>This is known as the <em>forward difference quotient</em> approximation to the derivative. For this example, the difference between the approximation and the actual slope is:</p>
<div id="5953008a" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>( <span class="fu">f</span>(c <span class="op">+</span> h) <span class="op">-</span> <span class="fu">f</span>(c) ) <span class="op">/</span> h <span class="op">-</span> <span class="fu">df</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>0.0009999999996992415</code></pre>
</div>
</div>
<p>That is not too close, just to 3 digits of accuracy.</p>
<p>Notationally, we may write this as:</p>
<p><span class="math display">\[
f'( c) \approx \frac{f(c + h) - f( c) }{h}
\]</span></p>
<p>For some small value of <span class="math inline">\(h\)</span>. The equals sign is replaced by an approximation symbol, as there is no limit expression written.</p>
<section id="example-derivative-at-a-point" class="level5">
<h5 class="anchored" data-anchor-id="example-derivative-at-a-point">Example Derivative at a point</h5>
<p>Let’s try the derivative of some well known function. We know the derivative of <span class="math inline">\(f(x) = \sin(x)\)</span> is <span class="math inline">\(f'(x) = \cos(x)\)</span>. Let’s see if the above works well:</p>
<div id="e9e41df2" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fu">cos</span>(x)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="cn">pi</span><span class="op">/</span><span class="fl">4</span>; h <span class="op">=</span> <span class="fl">0.0001</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>( <span class="fu">f</span>(c <span class="op">+</span> h) <span class="op">-</span> <span class="fu">f</span>(c) )<span class="op">/</span>h <span class="op">-</span> <span class="fu">df</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>-3.535651724428934e-5</code></pre>
</div>
</div>
<p>Not as good as we can get – the error is like <code>1e-5</code>, but not too bad already.</p>
</section>
<section id="example-finding-profit" class="level5">
<h5 class="anchored" data-anchor-id="example-finding-profit">Example Finding profit</h5>
<p>Suppose the tractor company John Deere models its profit per units sold through the function <span class="math inline">\(P(x) = 50 e^{x/250}/(1 - e^{x/250})\)</span>. Find the marginal profit for <span class="math inline">\(x=200\)</span>.</p>
<p>The marginal profit is the change in profit per unit sold – or the derivative – at <span class="math inline">\(x=200\)</span>. We can find this quite simply by either differentiating directly, or as we do here, approximating the answer with <code>Julia</code>. We first note that the function above, is a composition, so it may be written using two functions:</p>
<div id="d5c96e12" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f1</span>(x) <span class="op">=</span> <span class="fu">exp</span>(x)<span class="op">/</span>(<span class="fl">1</span> <span class="op">-</span> <span class="fu">exp</span>(x))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fl">50</span> <span class="op">*</span> <span class="fu">f1</span>(x<span class="op">/</span><span class="fl">250</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="fl">200</span>; h <span class="op">=</span> <span class="fl">0.0001</span>;</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> (<span class="fu">f</span>(c<span class="op">+</span>h) <span class="op">-</span> <span class="fu">f</span>(c))<span class="op">/</span>h</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>0.29635326299626286</code></pre>
</div>
</div>
<p>If <span class="math inline">\(50\)</span> is the maximum profit, this is a percentage increase of:</p>
<div id="5402ec7d" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(res<span class="op">/</span><span class="fl">50</span>) <span class="op">*</span> <span class="fl">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>0.5927065259925257</code></pre>
</div>
</div>
<p>or a bit more than half a percent.</p>
</section>
<section id="example-finding-the-tangent-line-at-a-point" class="level5">
<h5 class="anchored" data-anchor-id="example-finding-the-tangent-line-at-a-point">Example Finding the tangent line at a point</h5>
<p>Let <span class="math inline">\(f(x) = x^x\)</span>. Find the tangent line at <span class="math inline">\(c=2\)</span>. Compare the difference between the value of the tangent line and the function at <span class="math inline">\(x=2.1\)</span>.</p>
<p>The tangent line is most easily expressed in terms of the <em>point-slope</em> formula for a line where the point is <span class="math inline">\((c, f( c))\)</span> and the slope is <span class="math inline">\(f'( c)\)</span>. This gives:</p>
<p><span class="math display">\[
y = f( c) + f'( c)\cdot(x - c)
\]</span></p>
<p>In the following, the slope of the tangent line will be <em>approximated</em> using a numeric derivative. We use <span class="math inline">\(h=0.0001\)</span>:</p>
<div id="a43b6a6e" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span>x</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="fl">2</span>; h <span class="op">=</span> <span class="fl">0.0001</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> ( <span class="fu">f</span>(c <span class="op">+</span> h) <span class="op">-</span> <span class="fu">f</span>(c) ) <span class="op">/</span> h</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tangent_line</span>(x) <span class="op">=</span> <span class="fu">f</span>(c) <span class="op">+</span> m <span class="op">*</span> (x <span class="op">-</span> c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>tangent_line (generic function with 1 method)</code></pre>
</div>
</div>
<p>To compare the difference, we have:</p>
<div id="9efe67e0" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="fl">2.1</span>) <span class="op">-</span> <span class="fu">tangent_line</span>(<span class="fl">2.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>0.07231187980696063</code></pre>
</div>
</div>
<p>A graph shows this difference:</p>
<div id="8b44d1fb" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">1.85</span>, <span class="fl">2.15</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(tangent_line)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
    <div id="01b86250-fc41-4b19-a61b-38bfccc28ec4" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('01b86250-fc41-4b19-a61b-38bfccc28ec4', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            1.85,
            1.85309711194548,
            1.8712366136437268,
            1.8796751070525948,
            1.8909858335349135,
            1.9003319844243454,
            1.9090229781644394,
            1.919933159951331,
            1.9297196514720436,
            1.940921612117821,
            1.9492950774677102,
            1.9600048994466315,
            1.9697797942900692,
            1.9809048315568794,
            1.989723905909094,
            2.0006804696919276,
            2.009071426620851,
            2.0209014734019624,
            2.029741851358073,
            2.039795346707699,
            2.0497517598505217,
            2.060705638515106,
            2.069072510088529,
            2.079630782993221,
            2.089396083799294,
            2.0994673009548595,
            2.109675642284856,
            2.120335065617106,
            2.1287320020739533,
            2.1478545270031235,
            2.15
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            3.1208126489607806,
            3.136471475274031,
            3.2301091594481,
            3.274813693021287,
            3.335904497800165,
            3.3874163177271646,
            3.436172430734594,
            3.498568612065263,
            3.5556893082418792,
            3.6224378558654347,
            3.673304675533935,
            3.7396026559711384,
            3.8013511866228087,
            3.8730986769334574,
            3.931110147380651,
            4.0046116607331825,
            4.0619947195256225,
            4.144542759999668,
            4.2075130521501976,
            4.28048815276587,
            4.354218538706748,
            4.437051383898588,
            4.501557918520053,
            4.584521013098376,
            4.662836172118211,
            4.745233132697584,
            4.830476139536328,
            4.921379974506599,
            4.994380774144286,
            5.165330907772629,
            5.184927508599633
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303336
        },
        "yaxis": "y",
        "x": [
            1.85,
            1.85309711194548,
            1.8712366136437268,
            1.8796751070525948,
            1.8909858335349135,
            1.9003319844243454,
            1.9090229781644394,
            1.919933159951331,
            1.9297196514720436,
            1.940921612117821,
            1.9492950774677102,
            1.9600048994466315,
            1.9697797942900692,
            1.9809048315568794,
            1.989723905909094,
            2.0006804696919276,
            2.009071426620851,
            2.0209014734019624,
            2.029741851358073,
            2.039795346707699,
            2.0497517598505217,
            2.060705638515106,
            2.069072510088529,
            2.079630782993221,
            2.089396083799294,
            2.0994673009548595,
            2.109675642284856,
            2.120335065617106,
            2.1287320020739533,
            2.1478545270031235,
            2.15
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            2.9840106820970798,
            3.0049882331167934,
            3.127851832833465,
            3.1850079605841586,
            3.2616184758092084,
            3.324922405590353,
            3.3837887842696643,
            3.4576863052820697,
            3.52397277758068,
            3.599846593285205,
            3.656562268947323,
            3.7291027004621626,
            3.7953106254258766,
            3.87066341892155,
            3.9303973211591616,
            4.004608999587701,
            4.0614431502995,
            4.141571158032172,
            4.201449355163057,
            4.2695443143817675,
            4.336981710366676,
            4.411175201785493,
            4.467846216071248,
            4.539360165982386,
            4.605503108016247,
            4.673718101671815,
            4.742861873303705,
            4.815060941574178,
            4.871935593195955,
            5.001457466925084,
            5.01598931790292
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            1.8500000000000003,
            1.9000000000000004,
            1.9500000000000004,
            2.0000000000000004,
            2.0500000000000003,
            2.1000000000000005,
            2.1500000000000004
        ],
        "range": [
            1.8410000000000002,
            2.159
        ],
        "domain": [
            0.04554118235220598,
            0.9941413573303336
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "1.85",
            "1.90",
            "1.95",
            "2.00",
            "2.05",
            "2.10",
            "2.15"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            3.0,
            3.5,
            4.0,
            4.5,
            5.0
        ],
        "range": [
            2.917983177302003,
            5.25095501339471
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "3.0",
            "3.5",
            "4.0",
            "4.5",
            "5.0"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
</section>
<section id="practice" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="practice"><span class="header-section-number">6.2.1</span> Practice</h3>
<section id="question" class="level4">
<h4 class="anchored" data-anchor-id="question">Question</h4>
<p>Find the slope of the tangent line of <span class="math inline">\(f(x) = x\log(x)\)</span> at the value <span class="math inline">\(x=1\)</span> using <span class="math inline">\(h=0.0001\)</span> and the forward difference quotient method:</p>
<div id="8b1ef26b" class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="14">
<script>
var ID = "DXoTZhCi"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="DXoTZhCi" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_DXoTZhCi" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="DXoTZhCi" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="DXoTZhCi_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_DXoTZhCi').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_DXoTZhCi')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("DXoTZhCi").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 1.0000499983333064) <= 1.0e-6);
  var msgBox = document.getElementById('DXoTZhCi_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_DXoTZhCi")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_DXoTZhCi")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-1" class="level4">
<h4 class="anchored" data-anchor-id="question-1">Question</h4>
<p>Find the slope of the tangent line of <span class="math inline">\(f(x) = x-\log(x)\)</span> at the value <span class="math inline">\(x=1\)</span> using <span class="math inline">\(h=0.0001\)</span> and the forward difference quotient method:</p>
<div id="e4e965fd" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="15">
<script>
var ID = "qRq5xCB7"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="qRq5xCB7" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_qRq5xCB7" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="qRq5xCB7" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="qRq5xCB7_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_qRq5xCB7').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_qRq5xCB7')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("qRq5xCB7").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 4.999666680660653e-5) <= 1.0e-6);
  var msgBox = document.getElementById('qRq5xCB7_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_qRq5xCB7")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_qRq5xCB7")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-2" class="level4">
<h4 class="anchored" data-anchor-id="question-2">Question</h4>
<p>The built-in <code>airyai</code> function, when called as <code>airyai(x)</code>, returns the so-called Airy function, a special function named after</p>
<p><a href="http://en.wikipedia.org/wiki/Airy_function">George Biddell Airy</a>.</p>
<p>Compute the derivative at <span class="math inline">\(c=-3\)</span> using <span class="math inline">\(h=0.0001\)</span>.</p>
<div id="54a8d04c" class="cell" data-execution_count="15">
<div class="cell-output cell-output-display" data-execution_count="16">
<script>
var ID = "l75R2yjE"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="l75R2yjE" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_l75R2yjE" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="l75R2yjE" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="l75R2yjE_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_l75R2yjE').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_l75R2yjE')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("l75R2yjE").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 0.3146405891557569) <= 1.0e-6);
  var msgBox = document.getElementById('l75R2yjE_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_l75R2yjE")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_l75R2yjE")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-3" class="level4">
<h4 class="anchored" data-anchor-id="question-3">Question</h4>
<p>Let <span class="math inline">\(f(x) = \sin(x)\)</span>. The slope of the tangent line at <span class="math inline">\(c=\pi/4\)</span> is well known to have slope <span class="math inline">\(\sqrt{2}/2\)</span>.</p>
<p>Compute the forward difference quotient for <span class="math inline">\(f\)</span> at <span class="math inline">\(c\)</span> using <span class="math inline">\(h=0.01\)</span>. What is the order of the difference between the two values?</p>
<div id="e078e0d7" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display" data-execution_count="17">
<script>
var ID = "vCzTlyFQ"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="vCzTlyFQ" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_vCzTlyFQ" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_vCzTlyFQ_1">
    <input class="form-check-input" type="radio" name="radio_vCzTlyFQ" id="radio_vCzTlyFQ_1" value="1">
    
    <span class="label-body px-1">
        3 parts in 100
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_vCzTlyFQ_2">
    <input class="form-check-input" type="radio" name="radio_vCzTlyFQ" id="radio_vCzTlyFQ_2" value="2">
    
    <span class="label-body px-1">
        3 parts in 1000
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_vCzTlyFQ_3">
    <input class="form-check-input" type="radio" name="radio_vCzTlyFQ" id="radio_vCzTlyFQ_3" value="3">
    
    <span class="label-body px-1">
        3 parts in 10,000
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_vCzTlyFQ_4">
    <input class="form-check-input" type="radio" name="radio_vCzTlyFQ" id="radio_vCzTlyFQ_4" value="4">
    
    <span class="label-body px-1">
        3 parts in 100,000
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="vCzTlyFQ_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_vCzTlyFQ').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_vCzTlyFQ')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_vCzTlyFQ"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('vCzTlyFQ_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_vCzTlyFQ")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_vCzTlyFQ")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-4" class="level4">
<h4 class="anchored" data-anchor-id="question-4">Question</h4>
<p>For the function <span class="math inline">\(f(x) = x^3 - 5x\)</span> use a forward difference quotient with <span class="math inline">\(h=0.0001\)</span> to approximate the slope of the tangent line at <span class="math inline">\(c=1\)</span>. Use this value to create a tangent line at <code>(c, f( c))</code>. Plot both the function and the tangent. Estimate graphically where the tangent line crosses the <span class="math inline">\(x\)</span> axis. The value is near:</p>
<div id="dbc624f1" class="cell" data-execution_count="17">
<div class="cell-output cell-output-display" data-execution_count="18">
<script>
var ID = "f47pwvAd"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="f47pwvAd" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_f47pwvAd" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_f47pwvAd_1">
    <input class="form-check-input" type="radio" name="radio_f47pwvAd" id="radio_f47pwvAd_1" value="1">
    
    <span class="label-body px-1">
        -2.0
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_f47pwvAd_2">
    <input class="form-check-input" type="radio" name="radio_f47pwvAd" id="radio_f47pwvAd_2" value="2">
    
    <span class="label-body px-1">
        -1.5
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_f47pwvAd_3">
    <input class="form-check-input" type="radio" name="radio_f47pwvAd" id="radio_f47pwvAd_3" value="3">
    
    <span class="label-body px-1">
        -1.0
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_f47pwvAd_4">
    <input class="form-check-input" type="radio" name="radio_f47pwvAd" id="radio_f47pwvAd_4" value="4">
    
    <span class="label-body px-1">
        -0.5
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_f47pwvAd_5">
    <input class="form-check-input" type="radio" name="radio_f47pwvAd" id="radio_f47pwvAd_5" value="5">
    
    <span class="label-body px-1">
        0.0
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_f47pwvAd_6">
    <input class="form-check-input" type="radio" name="radio_f47pwvAd" id="radio_f47pwvAd_6" value="6">
    
    <span class="label-body px-1">
        1.0
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="f47pwvAd_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_f47pwvAd').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_f47pwvAd')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_f47pwvAd"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 3;
    var msgBox = document.getElementById('f47pwvAd_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_f47pwvAd")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_f47pwvAd")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
</section>
</section>
<section id="derivative-of-a-function" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="derivative-of-a-function"><span class="header-section-number">6.3</span> Derivative of a function</h2>
<p>We might be interested not in the derivative at a point, but in the derivative as a function. This is how we think of the derivative when we say if <span class="math inline">\(f(x) = \sin(x)\)</span>, the <span class="math inline">\(f'(x) = \cos(x)\)</span>. Mathematically, from this viewpoint, the derivative is referred to as an <em>operator</em>, as it takes a function and returns a function.</p>
<p>We can reproduce this behavior easily enough with <code>Julia</code>, as functions are <em>first class objects</em>: they can be passed as arguments and returned as values.</p>
<p>First, let’s define a function to find the derivative at a point using the “forward difference quotient”:</p>
<div id="78325911" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">forward_difference</span>(f, x0, h) <span class="op">=</span> (<span class="fu">f</span>(x0 <span class="op">+</span> h) <span class="op">-</span> <span class="fu">f</span>(x0))<span class="op">/</span>h</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>forward_difference (generic function with 1 method)</code></pre>
</div>
</div>
<p>We need three arguments of course as we have three ingredients to worry about: the function, the point and the size of <span class="math inline">\(h\)</span>.</p>
<p>To make an operator that takes <span class="math inline">\(f\)</span> and returns a function (an anonymous function in this case) that computes our approximation to <span class="math inline">\(f'\)</span> we can do the following:</p>
<div id="28b30669" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Df</span>(f; h<span class="op">=</span><span class="fl">1e-8</span>) <span class="op">=</span> x <span class="op">-&gt;</span> <span class="fu">forward_difference</span>(f, x, h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>Df (generic function with 1 method)</code></pre>
</div>
</div>
<p>We specified a default value of <span class="math inline">\(h\)</span> for convenience, but allow it to be varied if desired.</p>
<p>To see this work, we can find and plot the derivative of <span class="math inline">\(\sin(x)\)</span>:</p>
<div id="4c83fc23" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>fp <span class="op">=</span> <span class="fu">Df</span>(f)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">0</span>, <span class="fl">2</span>pi)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(fp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
    <div id="aaa82c8b-74b2-4c8e-b993-0f7ab59fb3a2" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('aaa82c8b-74b2-4c8e-b993-0f7ab59fb3a2', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.01621644022544172,
            0.03243288045088344,
            0.04864932067632516,
            0.06486576090176688,
            0.15984396969341996,
            0.25482217848507305,
            0.34980038727672613,
            0.44477859606837916,
            0.5331462924039331,
            0.621513988739487,
            0.6807368141121792,
            0.7399596394848714,
            0.7991824648575636,
            0.8584052902302558,
            0.9073416218528907,
            0.9562779534755257,
            1.0052142850981607,
            1.0541506167207957,
            1.0996565535312537,
            1.1451624903417117,
            1.1906684271521697,
            1.2361743639626277,
            1.2932999422143399,
            1.350425520466052,
            1.4075510987177642,
            1.4646766769694763,
            1.5159186267459588,
            1.5671605765224412,
            1.6184025262989237,
            1.6696444760754061,
            1.7282978048597004,
            1.7869511336439947,
            1.845604462428289,
            1.9042577912125833,
            1.948101153259751,
            1.9919445153069189,
            2.0357878773540867,
            2.0796312394012544,
            2.135707736151643,
            2.191784232902032,
            2.247860729652421,
            2.3039372264028097,
            2.3551184561190714,
            2.4062996858353327,
            2.457480915551594,
            2.5086621452678557,
            2.566912704181728,
            2.6251632630956,
            2.683413822009472,
            2.741664380923344,
            2.8340175115779447,
            2.926370642232545,
            3.155844377490793,
            3.3315841684540928,
            3.455468128651302,
            3.579352088848511,
            3.6719283103214266,
            3.764504531794342,
            3.8171445103498147,
            3.869784488905287,
            3.9224244674607593,
            3.9750644460162317,
            4.0271961033255605,
            4.079327760634889,
            4.131459417944218,
            4.183591075253547,
            4.240945449821833,
            4.298299824390119,
            4.355654198958405,
            4.4130085735266915,
            4.456817410641017,
            4.500626247755343,
            4.544435084869669,
            4.588243921983994,
            4.643526909637286,
            4.698809897290577,
            4.7540928849438675,
            4.809375872597159,
            4.860506868051251,
            4.911637863505344,
            4.9627688589594365,
            5.013899854413529,
            5.066632624127913,
            5.119365393842298,
            5.172098163556681,
            5.224830933271066,
            5.278281683483826,
            5.331732433696587,
            5.385183183909347,
            5.438633934122107,
            5.494446544175604,
            5.5502591542291,
            5.606071764282596,
            5.661884374336093,
            5.749816887287736,
            5.837749400239379,
            5.937874706631995,
            6.038000013024609,
            6.138125319417224,
            6.2382506258098385,
            6.249484296152275,
            6.260717966494712,
            6.27195163683715,
            6.283185307179586
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.0,
            0.016215729487310628,
            0.03242719477011651,
            0.0486301327652587,
            0.06482028263197495,
            0.15916416729984448,
            0.25207333329404447,
            0.3427102898798934,
            0.4302580282020417,
            0.5082454778834777,
            0.582266696972066,
            0.629365779834752,
            0.6742581061075188,
            0.7167862690167328,
            0.7568011512974201,
            0.787869383623631,
            0.8170512307769068,
            0.8442768230492311,
            0.869480974567597,
            0.8910515215169633,
            0.9107772060253739,
            0.9286171873854255,
            0.9445345291116695,
            0.9617443138614646,
            0.9758164613154323,
            0.9867050618757225,
            0.9943745920890378,
            0.9984945968767969,
            0.9999933906672587,
            0.9988670388825315,
            0.9951184983795616,
            0.987622261558602,
            0.9767293677527232,
            0.9624772800946146,
            0.9449150147466066,
            0.9296609565095055,
            0.9126201526679827,
            0.8938253544967328,
            0.8733126843291545,
            0.8446360299405464,
            0.8133040514165897,
            0.7794152486505327,
            0.7430761595506731,
            0.7078672426682022,
            0.670804459346526,
            0.6319848750323862,
            0.5915101561403386,
            0.543566178841945,
            0.4937783335939443,
            0.4423155091456854,
            0.38935227605782785,
            0.3027484681799545,
            0.21356432289643276,
            -0.014251241457410725,
            -0.18885056253050858,
            -0.30874708132325895,
            -0.423911242950496,
            -0.5058229197226598,
            -0.5834026088204183,
            -0.6253280599594594,
            -0.6655211475484468,
            -0.7038705235696576,
            -0.7402699476903123,
            -0.7742970045780454,
            -0.8062202235236925,
            -0.8359528661324851,
            -0.8634141460120321,
            -0.8909136043117936,
            -0.9154831839679305,
            -0.9370420849046904,
            -0.9555194080325,
            -0.9675189617889592,
            -0.9776619363657677,
            -0.9859288683351657,
            -0.992303894221211,
            -0.9976299443922599,
            -0.9999078056678289,
            -0.9991305182012485,
            -0.9953004569403016,
            -0.9890505858376712,
            -0.9802155252496932,
            -0.9688183683387009,
            -0.9548889050978766,
            -0.937909122739879,
            -0.918321858589243,
            -0.8961815672124104,
            -0.8715498008485569,
            -0.8441102965943028,
            -0.8142597579328558,
            -0.782083447034429,
            -0.7476732691784452,
            -0.7094649919153211,
            -0.6690472711774428,
            -0.6265459774029095,
            -0.5820934697740182,
            -0.5084367642562988,
            -0.4308512936451035,
            -0.3384889594806232,
            -0.24273608139943093,
            -0.14455178769564841,
            -0.044919561435443844,
            -0.033694632023281886,
            -0.022465450549975355,
            -0.011233434071101982,
            -2.4492935982947064e-16
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.01621644022544172,
            0.03243288045088344,
            0.04864932067632516,
            0.06486576090176688,
            0.11235486529759342,
            0.15984396969341996,
            0.2073330740892465,
            0.25482217848507305,
            0.3023112828808996,
            0.34980038727672613,
            0.3972894916725527,
            0.44477859606837916,
            0.4889624442361561,
            0.5331462924039331,
            0.5773301405717101,
            0.621513988739487,
            0.6807368141121792,
            0.7399596394848714,
            0.7991824648575636,
            0.8584052902302558,
            0.9562779534755257,
            1.0541506167207957,
            1.1451624903417117,
            1.2361743639626277,
            1.4646766769694763,
            1.6696444760754061,
            1.7869511336439947,
            1.9042577912125833,
            1.9919445153069189,
            2.0796312394012544,
            2.135707736151643,
            2.191784232902032,
            2.247860729652421,
            2.3039372264028097,
            2.3551184561190714,
            2.4062996858353327,
            2.457480915551594,
            2.5086621452678557,
            2.566912704181728,
            2.6251632630956,
            2.683413822009472,
            2.741664380923344,
            2.787840946250644,
            2.8340175115779447,
            2.8801940769052448,
            2.926370642232545,
            2.9837390760471068,
            3.0411075098616687,
            3.098475943676231,
            3.155844377490793,
            3.199779325231618,
            3.2437142729724426,
            3.2876492207132677,
            3.3315841684540928,
            3.3935261485526973,
            3.455468128651302,
            3.5174101087499063,
            3.579352088848511,
            3.6256401995849687,
            3.6719283103214266,
            3.7182164210578845,
            3.764504531794342,
            3.8171445103498147,
            3.869784488905287,
            3.9224244674607593,
            3.9750644460162317,
            4.0271961033255605,
            4.079327760634889,
            4.131459417944218,
            4.183591075253547,
            4.298299824390119,
            4.4130085735266915,
            4.500626247755343,
            4.588243921983994,
            4.809375872597159,
            5.013899854413529,
            5.066632624127913,
            5.119365393842298,
            5.172098163556681,
            5.224830933271066,
            5.278281683483826,
            5.331732433696587,
            5.385183183909347,
            5.438633934122107,
            5.494446544175604,
            5.5502591542291,
            5.606071764282596,
            5.661884374336093,
            5.705850630811915,
            5.749816887287736,
            5.793783143763557,
            5.837749400239379,
            5.887812053435686,
            5.937874706631995,
            5.987937359828302,
            6.038000013024609,
            6.0880626662209165,
            6.138125319417224,
            6.188187972613531,
            6.2382506258098385,
            6.249484296152275,
            6.260717966494712,
            6.27195163683715,
            6.283185307179586
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.0,
            0.9998685168016719,
            0.999474100704667,
            0.9988168549190934,
            0.9978969539581328,
            0.9936948278110869,
            0.9872521272713541,
            0.9785833837705482,
            0.9677081358461237,
            0.9546509083246946,
            0.9394411415453163,
            0.9221131247461045,
            0.9027059488797562,
            0.8828206776723135,
            0.8612122459616955,
            0.8379228200183775,
            0.8129978468218724,
            0.7771092103148192,
            0.7384957756428889,
            0.6972929345039347,
            0.6536451824246114,
            0.5765650734623762,
            0.4939664233205576,
            0.41289814900480337,
            0.32841211972112205,
            0.10592058341529764,
            -0.09868725836525982,
            -0.21447550402342586,
            -0.3273157744843047,
            -0.4088085869824454,
            -0.4871601011480209,
            -0.5353409937569609,
            -0.5818389103851018,
            -0.6265076790690216,
            -0.6692068565961051,
            -0.706345504308814,
            -0.7416342540089715,
            -0.7749807240386986,
            -0.8062975509481873,
            -0.8393663097905346,
            -0.8695878017661585,
            -0.896859508880965,
            -0.9210889162503122,
            -0.938079652845758,
            -0.9530704891957953,
            -0.9660294841840056,
            -0.9769289988081908,
            -0.9875669670922349,
            -0.9949556095678602,
            -0.9990706130447169,
            -0.9998984397407984,
            -0.9983076268427205,
            -0.9947901113971369,
            -0.9893526803361752,
            -0.9820058322063119,
            -0.9684322482828023,
            -0.9511441689813438,
            -0.9302078940454095,
            -0.905703728681928,
            -0.8851185784308768,
            -0.8626373282361044,
            -0.8383081229190736,
            -0.8121830874507907,
            -0.7803619639368264,
            -0.7463789808426213,
            -0.7103282850806636,
            -0.6723097523142485,
            -0.6328223500773333,
            -0.5916155454421812,
            -0.548801237787444,
            -0.5044957895883329,
            -0.40235622611461963,
            -0.29492822628540694,
            -0.21018358165036943,
            -0.12382640468544537,
            0.09683491786205423,
            0.29696326508954485,
            0.34688106831382015,
            0.39583450961444555,
            0.44368750895529274,
            0.49030699500463015,
            0.5361695754046991,
            0.5805006808579094,
            0.6231737237349932,
            0.6640667682411561,
            0.7047406769267184,
            0.7432198523282807,
            0.779384456972565,
            0.8131218698359532,
            0.8379203331188023,
            0.8610993362800912,
            0.8826140540652005,
            0.9024229363774339,
            0.9228528663474123,
            0.940970362739435,
            0.956730017431795,
            0.9700923592204092,
            0.9810238926766246,
            0.9894972285984238,
            0.995491139521576,
            0.9989906006591109,
            0.9994321689688057,
            0.9997476138612349,
            0.9999368969990097,
            0.999999993922529
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            1.0,
            2.0,
            3.0,
            4.0,
            5.0,
            6.0
        ],
        "range": [
            -0.18849555921538785,
            6.4716808663949745
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -1.0,
            -0.5,
            0.0,
            0.5,
            1.0
        ],
        "range": [
            -1.0599050398378638,
            1.059997234170035
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−1.0",
            "−0.5",
            "0.0",
            "0.5",
            "1.0"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>Well, we already knew that should just be <span class="math inline">\(\cos(x)\)</span>. The point is we can easily make the an approximate derivative function from <code>f</code> with the definition <code>fp = Df(f)</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Defining <code>fp</code> or <code>fp(x)</code>
</div>
</div>
<div class="callout-body-container callout-body">
<p>We could also have just plotted <code>f</code> and <code>Df(f)</code> without naming <code>fp</code>. As well, could have written <code>fp(x) = Df(f)(x)</code>, but that will use the global variable <code>f</code> everytime it is called. A reminder though, using <code>fp = Df(f)</code> and <code>fp(x) = ...</code> in the same session will error. To avoid this, we use <code>fp</code> for the former and <code>df</code> when the latter is desired.</p>
</div>
</div>
<p>Let’s look at a different function, where we don’t know in our heads the answer.</p>
<div id="eafea5ca" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">exp</span>(x)<span class="op">/</span>(<span class="fl">1</span> <span class="op">+</span> <span class="fu">exp</span>(x))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">0</span>, <span class="fl">5</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(<span class="fu">Df</span>(f))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
    <div id="0d65cedd-5257-45b0-a426-73ca7b1629f6" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('0d65cedd-5257-45b0-a426-73ca7b1629f6', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.025809266212332996,
            0.05161853242466599,
            0.20278104657672297,
            0.35394356072877997,
            0.42426433913601486,
            0.49458511754324974,
            0.5888411715625705,
            0.6830972255818913,
            0.7609818163271573,
            0.8388664070724232,
            0.9112913549065413,
            0.9837163027406596,
            1.0746344842980882,
            1.1655526658555169,
            1.247106761861455,
            1.3286608578673933,
            1.4220105299155392,
            1.5153602019636851,
            1.5851390798794287,
            1.6549179577951723,
            1.744166474286182,
            1.8334149907771917,
            1.9148724478058399,
            1.9963299048344882,
            2.0890385487245724,
            2.1817471926146568,
            2.255239478883113,
            2.3287317651515695,
            2.420036463341847,
            2.5113411615321253,
            2.581265802606489,
            2.6511904436808527,
            2.7497741668567803,
            2.8483578900327076,
            2.9220277063336306,
            2.9956975226345532,
            3.1632557784616493,
            3.329195997508698,
            3.511760641918434,
            3.651208501475486,
            3.827179716553677,
            3.9899347299882377,
            4.157788349247655,
            4.327927371414274,
            4.505584426951762,
            4.6455333678992226,
            4.964242116718727,
            5.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.5,
            0.5064519584098037,
            0.5129017685323335,
            0.5505222565997906,
            0.5875735543385616,
            0.6045032171216566,
            0.6211859724668726,
            0.643099212489442,
            0.6644296151224426,
            0.681566858774771,
            0.698226414530194,
            0.7132643412073071,
            0.7278449893495788,
            0.7454772670670001,
            0.7623401986287187,
            0.7767986260144164,
            0.7906190387031016,
            0.8056534105913836,
            0.8198542303376541,
            0.8299311061597436,
            0.8395546191892664,
            0.8512155122322308,
            0.8621680470276891,
            0.8715655531318232,
            0.8804112026763443,
            0.8898332098229651,
            0.8985983860271252,
            0.9051015245786604,
            0.9112288016109296,
            0.9183424789504533,
            0.9249330629858865,
            0.9296461029850782,
            0.9340843249642969,
            0.9399005943509828,
            0.9452337379352435,
            0.9489246647140688,
            0.9523793763507596,
            0.9594278707045055,
            0.9654169364643936,
            0.9710205491054085,
            0.9746971187209698,
            0.9786929450671684,
            0.981835144924493,
            0.9845987928601047,
            0.9869769699252694,
            0.9890735736170004,
            0.9904869614690055,
            0.9930651862909005,
            0.9933071490757152
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.012904633106166498,
            0.025809266212332996,
            0.038713899318499494,
            0.05161853242466599,
            0.1271997895006945,
            0.20278104657672297,
            0.2783623036527515,
            0.35394356072877997,
            0.3891039499323974,
            0.42426433913601486,
            0.4594247283396323,
            0.49458511754324974,
            0.5417131445529102,
            0.5888411715625705,
            0.6359691985722309,
            0.6830972255818913,
            0.7609818163271573,
            0.8388664070724232,
            0.9112913549065413,
            0.9837163027406596,
            1.1655526658555169,
            1.3286608578673933,
            1.5153602019636851,
            1.6549179577951723,
            1.744166474286182,
            1.8334149907771917,
            1.9148724478058399,
            1.9963299048344882,
            2.0890385487245724,
            2.1817471926146568,
            2.255239478883113,
            2.3287317651515695,
            2.420036463341847,
            2.5113411615321253,
            2.581265802606489,
            2.6511904436808527,
            2.7497741668567803,
            2.8483578900327076,
            2.9220277063336306,
            2.9956975226345532,
            3.0794766505481013,
            3.1632557784616493,
            3.2462258879851738,
            3.329195997508698,
            3.420478319713566,
            3.511760641918434,
            3.58148457169696,
            3.651208501475486,
            3.827179716553677,
            3.9899347299882377,
            4.157788349247655,
            4.327927371414274,
            4.505584426951762,
            4.6455333678992226,
            4.964242116718727,
            5.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.24999999848063226,
            0.24998958458866127,
            0.24995837621943906,
            0.24990635116850513,
            0.24983353164031996,
            0.24899149408952326,
            0.24744750692917705,
            0.24521900066076796,
            0.24233087758673832,
            0.24077112525944244,
            0.23907906765430198,
            0.23725862385859386,
            0.2353139461064302,
            0.2325202919095659,
            0.2295226231296965,
            0.22633271923311327,
            0.2229629036953895,
            0.2170334800766227,
            0.2107062857525932,
            0.20451832449808194,
            0.1980866581874352,
            0.1811776062510262,
            0.1655405590383907,
            0.14769326872610122,
            0.13470266013726473,
            0.12664765902670183,
            0.11883430905967884,
            0.11193904692063938,
            0.1052873233042817,
            0.09803006184583296,
            0.09111933430006047,
            0.08589274846926287,
            0.0808908717786494,
            0.07498957010909635,
            0.06943189356789503,
            0.06540422647915989,
            0.06157080401081316,
            0.05648747025688294,
            0.05176691297847924,
            0.04846664181101801,
            0.04535289921392405,
            0.042029169033952485,
            0.03892604016897394,
            0.03605927778593809,
            0.03338707088573756,
            0.0306590974830101,
            0.028139635066537494,
            0.026347213299970917,
            0.024662649700246675,
            0.02085306372023865,
            0.01783490022333467,
            0.015164003386303193,
            0.01285342943191381,
            0.010807033046233983,
            0.009422540525605427,
            0.006886724523980092,
            0.006648059880376422
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            1.0,
            2.0,
            3.0,
            4.0,
            5.0
        ],
        "range": [
            -0.15000000000000036,
            5.15
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            0.25,
            0.5,
            0.75,
            1.0
        ],
        "range": [
            -0.022951712795483747,
            1.0229069217515754
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0.00",
            "0.25",
            "0.50",
            "0.75",
            "1.00"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>If we look, we can see from the graph that <code>f</code> is increasing and <code>Df(f)</code> is positive – this is no coincidence, of course.</p>
<section id="example-critical-points" class="level5">
<h5 class="anchored" data-anchor-id="example-critical-points">Example: Critical points</h5>
<p>A function’s <em>critical points</em> are where its derivative is <span class="math inline">\(0\)</span> or undefined. We can examine these by graphing the function’s derivative. Let’s do so for the polynomial <span class="math inline">\(f(x) = x^3 - 5x + 4\)</span>:</p>
<div id="53683e5f" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">3</span> <span class="op">-</span><span class="fl">5</span>x <span class="op">+</span> <span class="fl">4</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>fp <span class="op">=</span> <span class="fu">Df</span>(f)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fp, <span class="op">-</span><span class="fl">5</span>, <span class="fl">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
    <div id="2a2b0efe-2ecc-493f-9c9e-a3ae87399bb1" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('2a2b0efe-2ecc-493f-9c9e-a3ae87399bb1', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            -5.0,
            -4.948381467575334,
            -4.896762935150669,
            -4.745600420998612,
            -4.594437906846554,
            -4.443275392694497,
            -4.29211287854244,
            -4.15147132172797,
            -4.010829764913501,
            -3.9165737108941796,
            -3.822317656874859,
            -3.7280616028555382,
            -3.633805548836217,
            -3.4780363673456853,
            -3.3222671858551536,
            -3.1774172901869173,
            -3.0325673945186806,
            -2.8507310314038232,
            -2.6688946682889663,
            -2.50578647627709,
            -2.3426782842652134,
            -2.2493286122170675,
            -2.1559789401689216,
            -2.0626292681207756,
            -1.9692795960726297,
            -1.8297218402411428,
            -1.690164084409656,
            -1.511667051427636,
            -1.3331700184456163,
            -1.17025510438832,
            -1.0073401903310237,
            -0.9146315464409394,
            -0.8219229025508551,
            -0.7292142586607708,
            -0.6365056147706865,
            -0.48952104223377385,
            -0.34253646969686125,
            -0.15992707331630546,
            0.02268232306425034,
            0.16253160521297816,
            0.302380887361706,
            0.40096461053763316,
            0.49954833371356033,
            0.5981320568894875,
            0.6967157800654147,
            0.8440554126672604,
            0.991395045269106,
            1.1589533010962023,
            1.3265115569232986,
            1.4924517759703473,
            1.658391995017396,
            1.8409566394271324,
            2.023521283836869,
            2.162969143393921,
            2.302417002950973,
            2.4783882180291634,
            2.6543594331073534,
            2.8171144465419147,
            2.979869459976476,
            3.147723079235892,
            3.3155766984953083,
            3.4857157206619283,
            3.655854742828548,
            3.833511798366036,
            4.0111688539035235,
            4.151117794850984,
            4.291066735798444,
            4.450421110208197,
            4.609775484617948,
            4.769129859027701,
            4.9284842334374535,
            4.9463631750780905,
            4.964242116718727,
            4.982121058359363,
            5.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            69.99999868639861,
            68.45943687494582,
            66.93485943287669,
            62.56216806832526,
            58.32657876680969,
            54.228088686159026,
            50.266697826373274,
            46.704143130682496,
            43.26026612488931,
            41.01864732319882,
            38.83033627971599,
            36.695329441727154,
            34.613627875046404,
            31.290210600332102,
            28.112377137290423,
            25.287941340934594,
            22.58939453270159,
            19.380002136415442,
            16.36899575885309,
            13.836897494456935,
            11.46442460964181,
            10.17843747064262,
            8.94473526358297,
            7.763318343734227,
            6.6341863558250225,
            5.043646122970813,
            3.5699638800679168,
            1.8554116465452353,
            0.33202702809376206,
            -0.8915090887740007,
            -1.9557971242534222,
            -2.4903474837856265,
            -2.9733281614596763,
            -3.404739779000465,
            -3.7845818035009415,
            -4.281107557346786,
            -4.648006335372656,
            -4.923269969481225,
            -4.998456537563811,
            -4.92075038494022,
            -4.725697388963113,
            -4.517682050675376,
            -4.251354424056331,
            -3.9267141538346095,
            -3.5437613732369755,
            -2.8627114012635957,
            -2.0514075327326964,
            -0.9704816505973213,
            0.2788987707447177,
            1.682236927535996,
            3.2507922576030523,
            5.16736395894668,
            7.283915337552571,
            9.035306725024839,
            10.903372427151226,
            13.427224310191832,
            16.136871927585617,
            18.808401236469763,
            21.638865987938516,
            24.72448201729094,
            27.97914611107899,
            31.450641913011168,
            35.095821004915706,
            39.08743764213796,
            43.26842741875225,
            46.695335242930014,
            50.23976044071787,
            54.41874577627459,
            58.75008923794667,
            63.233797220618726,
            67.86987114537624,
            68.399525332552,
            68.93109798511432,
            69.46459052414866,
            70.00000152856956
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -4.0,
            -2.0,
            0.0,
            2.0,
            4.0
        ],
        "range": [
            -5.300000000000001,
            5.300000000000001
        ],
        "domain": [
            0.032313669124692745,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−4",
            "−2",
            "0",
            "2",
            "4"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            20.0,
            40.0,
            60.0
        ],
        "range": [
            -7.248410279547812,
            72.24995527055356
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0",
            "20",
            "40",
            "60"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>You can check the zeroes graphically, say by zooming in a bit and adding the line <span class="math inline">\(y=0\)</span>:</p>
<div id="2ab9dbfb" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fp, <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(zero)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
    <div id="9d670b10-a6a9-44e3-ab2f-aa7cd684c603" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('9d670b10-a6a9-44e3-ab2f-aa7cd684c603', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            -2.0,
            -1.9793525870301336,
            -1.9587051740602672,
            -1.8982401683994445,
            -1.8377751627386216,
            -1.7773101570777987,
            -1.716845151416976,
            -1.6605885286911881,
            -1.6043319059654002,
            -1.5666294843576718,
            -1.5289270627499434,
            -1.4912246411422152,
            -1.4535222195344868,
            -1.391214546938274,
            -1.3289068743420613,
            -1.2709669160747668,
            -1.2130269578074722,
            -1.1402924125615295,
            -1.0675578673155866,
            -1.002314590510836,
            -0.9370713137060853,
            -0.899731444886827,
            -0.8623915760675687,
            -0.8250517072483103,
            -0.7877118384290519,
            -0.7318887360964571,
            -0.6760656337638623,
            -0.6046668205710544,
            -0.5332680073782465,
            -0.468102041755328,
            -0.4029360761324095,
            -0.36585261857637574,
            -0.32876916102034204,
            -0.29168570346430833,
            -0.2546022459082746,
            -0.19580841689350958,
            -0.13701458787874451,
            -0.06397082932652219,
            0.009072929225700136,
            0.06501264208519128,
            0.12095235494468241,
            0.16038584421505328,
            0.19981933348542416,
            0.239252822755795,
            0.2786863120261659,
            0.3376221650669042,
            0.39655801810764246,
            0.46358132043848094,
            0.5306046227693194,
            0.5969807103881388,
            0.6633567980069583,
            0.7363826557708529,
            0.8094085135347475,
            0.8651876573575683,
            0.9209668011803891,
            0.9913552872116652,
            1.0617437732429413,
            1.1268457786167658,
            1.1919477839905903,
            1.2590892316943567,
            1.3262306793981231,
            1.3942862882647713,
            1.4623418971314193,
            1.5334047193464144,
            1.6044675415614096,
            1.6604471179403937,
            1.7164266943193778,
            1.7801684440832788,
            1.8439101938471796,
            1.9076519436110804,
            1.9713936933749814,
            1.978545270031236,
            1.9856968466874907,
            1.9928484233437453,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            6.999999868639861,
            6.753509840251581,
            6.50957785452988,
            5.80994701238069,
            5.132252400841253,
            4.47649401991157,
            3.8426716919559567,
            3.2726625853740643,
            2.7216424669518346,
            2.362983764214732,
            2.012853883570642,
            1.6712526473838807,
            1.3381804109258155,
            0.8064336753932366,
            0.2979803070957132,
            -0.153929313739809,
            -0.5856966467376878,
            -1.0991996646225743,
            -1.58096060687285,
            -1.9860962652273884,
            -2.365692086669924,
            -2.571450075095072,
            -2.7688423109850646,
            -2.9578690607934277,
            -3.1385302357023193,
            -3.3930166232210013,
            -3.628805789190892,
            -3.903134171423517,
            -4.146875731692035,
            -4.34264144644203,
            -4.512927631594721,
            -4.598455571880322,
            -4.675732512282593,
            -4.744758363983692,
            -4.805533126983619,
            -4.884977133912116,
            -4.94368102010867,
            -4.987723212224182,
            -4.9997530116030475,
            -4.98732006803948,
            -4.956111565590504,
            -4.922829122122607,
            -4.880216719627128,
            -4.828274224877305,
            -4.767001859917741,
            -4.65803382532215,
            -4.528225217015347,
            -4.355277072320973,
            -4.155376220893459,
            -3.930842096266929,
            -3.679873250561627,
            -3.3732217019633026,
            -3.034573614613123,
            -2.7543509695249213,
            -2.4554603683668574,
            -2.0516440990547835,
            -1.6181004980353464,
            -1.1906557517704641,
            -0.7377813915354636,
            -0.24408279841736658,
            0.2766634032980164,
            0.832102742265306,
            1.415331496446015,
            2.0539900447147375,
            2.7229482668644778,
            3.271254023218262,
            3.83836171735652,
            4.5069990406432225,
            5.200014552286802,
            5.917407985833734,
            6.659179163648332,
            6.74392426347481,
            6.828975962491768,
            6.914334527152732,
            6.999999868639861
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            -2.0,
            -1.9587051740602672,
            -1.716845151416976,
            -1.6043319059654002,
            -1.4535222195344868,
            -1.3289068743420613,
            -1.2130269578074722,
            -1.0675578673155866,
            -0.9370713137060853,
            -0.7877118384290519,
            -0.6760656337638623,
            -0.5332680073782465,
            -0.4029360761324095,
            -0.2546022459082746,
            -0.13701458787874451,
            0.009072929225700136,
            0.12095235494468241,
            0.2786863120261659,
            0.39655801810764246,
            0.5306046227693194,
            0.6633567980069583,
            0.8094085135347475,
            0.9209668011803891,
            1.0617437732429413,
            1.1919477839905903,
            1.3262306793981231,
            1.4623418971314193,
            1.6044675415614096,
            1.7164266943193778,
            1.9713936933749814,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -2.0,
            -1.0,
            0.0,
            1.0,
            2.0
        ],
        "range": [
            -2.12,
            2.12
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−2",
            "−1",
            "0",
            "1",
            "2"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -5.0,
            -2.5,
            0.0,
            2.5,
            5.0
        ],
        "range": [
            -5.359745598010335,
            7.3599924550471485
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−5.0",
            "−2.5",
            "0.0",
            "2.5",
            "5.0"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>If you want, we can find the roots numerically.</p>
<div id="678efa31" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">find_zero</span>(fp, (<span class="op">-</span><span class="fl">2</span>, <span class="op">-</span><span class="fl">1</span>)), <span class="fu">find_zero</span>(f<span class="op">'</span>, (<span class="fl">1</span>, <span class="fl">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>(-1.2909944653511047, 1.2909944487358056)</code></pre>
</div>
</div>
</section>
<section id="example-when-is-a-function-increasing" class="level5">
<h5 class="anchored" data-anchor-id="example-when-is-a-function-increasing">Example: When is a function increasing?</h5>
<p>Let <span class="math inline">\(f(x) = \cos(x)\)</span> over the interval <span class="math inline">\([0, 360]\)</span> (in degrees). When is the function increasing?</p>
<p>From the relationship of the derivative and the function, we know the answer is when <span class="math inline">\(f'(x) &gt; 0\)</span>. For this example, we can solve this directly as <span class="math inline">\(f'(x) = -\sin(x)\)</span> and we know when that is positive (well you are supposed to anyways: when the angle is in the third and fourth quadrants). Let’s see how we would do this task with <code>Julia</code> and compare.</p>
<p>First, we only need the derivative, so we just ask:</p>
<div id="7b23d0d2" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">cosd</span>(x)          <span class="co"># using degrees</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>fp <span class="op">=</span> <span class="fu">Df</span>(f)              <span class="co"># use default h</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>#12 (generic function with 1 method)</code></pre>
</div>
</div>
<p>Then we wish to indicate on the graph where <code>fp(x) &gt; 0</code>. We can do this by defining a function that is <span class="math inline">\(0\)</span> when that is the case and <code>NaN</code> otherwise (so that those points are not plotted). We do so below using the <code>plotif</code> function from the <code>MTH229</code> package</p>
<div id="4323ba71" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotif</span>(f, fp, <span class="fl">0</span>, <span class="fl">360</span>)  <span class="co"># second color when fp &gt; 0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
    <div id="cb7e5424-54d2-4c3f-af61-7406f5bb7744" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('cb7e5424-54d2-4c3f-af61-7406f5bb7744', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.4913194444444445,
            "title": "",
            "len": 0.919938393117527,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.9291335836439879,
            1.8582671672879758,
            2.7874007509319636,
            3.7165343345759516,
            6.437459589312978,
            9.158384844050003,
            11.879310098787029,
            14.600235353524054,
            17.32116060826108,
            20.042085862998107,
            22.763011117735132,
            25.483936372472158,
            28.015484395132614,
            30.54703241779307,
            33.07858044045352,
            35.61012846311398,
            39.00334640780953,
            42.39656435250508,
            45.78978229720063,
            49.183000241896174,
            54.79069077555532,
            60.39838130921447,
            65.61297755327098,
            70.82757379732749,
            83.91979194159721,
            95.66358176645232,
            102.38475815391882,
            109.10593454138534,
            114.13001375131887,
            119.15409296125239,
            122.36703955492874,
            125.5799861486051,
            128.79293274228147,
            132.00587933595781,
            134.93834778898915,
            137.87081624202048,
            140.80328469505181,
            143.73575314808315,
            147.07326432812619,
            150.41077550816922,
            153.74828668821226,
            157.0857978682553,
            159.7315201739197,
            162.37724247958414,
            165.02296478524858,
            167.66868709091298,
            170.955656225763,
            174.24262536061298,
            177.529594495463,
            180.816563630313,
            183.3338507089901,
            185.8511377876672,
            188.3684248663443,
            190.88571194502143,
            194.43472597935482,
            197.9837400136882,
            201.53275404802156,
            205.08176808235493,
            207.73388146918813,
            210.38599485602137,
            213.0381082428546,
            215.6902216296878,
            218.70627023457556,
            221.7223188394633,
            224.738367444351,
            227.75441604923876,
            230.7413399920856,
            233.7282639349325,
            236.71518787777939,
            239.70211182062624,
            246.27443901937676,
            252.84676621812727,
            257.86688916218117,
            262.88701210623503,
            275.5569395918647,
            287.27530055915315,
            290.29666570582265,
            293.31803085249214,
            296.33939599916164,
            299.3607611458311,
            302.4232635448302,
            305.4857659438294,
            308.5482683428286,
            311.61077074182776,
            314.8085977415025,
            318.0064247411773,
            321.2042517408521,
            324.40207874052686,
            326.92115967758116,
            329.4402406146354,
            331.9593215516897,
            334.478402488744,
            337.34678122811954,
            340.2151599674951,
            343.0835387068706,
            345.95191744624617,
            348.8202961856217,
            351.68867492499726,
            354.5570536643728,
            357.42543240374835,
            358.06907430281126,
            358.7127162018742,
            359.3563581009371,
            360.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(255, 165, 0, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 3
        },
        "y": [
            1.0,
            0.9998685164146306,
            0.9994741002343888,
            0.9988168551777815,
            0.9978969540786818,
            0.99369482914844,
            0.9872521298268985,
            0.9785833830560191,
            0.9677081350500416,
            0.9546509072228514,
            0.93944114089731,
            0.9221131309212189,
            0.9027059483395969,
            0.8828206842000886,
            0.8612122469002605,
            0.8379228138379217,
            0.8129978435378782,
            0.7771092041489371,
            0.7384957727355668,
            0.6972929402690607,
            0.6536451769843479,
            0.5765650754996714,
            0.4939664309090057,
            0.4128981484393136,
            0.32841212419123145,
            0.10592058632654802,
            -0.09868725440910055,
            -0.21447550482366393,
            -0.327315772468148,
            -0.40880858227814665,
            -0.4871600921563738,
            -0.5353409912628326,
            -0.5818389123712518,
            -0.6265076776632738,
            -0.6692068597283076,
            -0.7063455009818611,
            -0.7416342611562757,
            -0.7749807208765257,
            -0.8062975475485661,
            -0.839366314084123,
            -0.8695878088342703,
            -0.8968595154031614,
            -0.9210889235728489,
            -0.9380796526720804,
            -0.9530704932032525,
            -0.9660294862484649,
            -0.9769290045780133,
            -0.9875669731485532,
            -0.994955614629687,
            -0.9990706186570835,
            -0.9998984459018438,
            -0.9983076331880723,
            -0.994790117535368,
            -0.9893526876404417,
            -0.9820058375752714,
            -0.9684322566077931,
            -0.9511441740211463,
            -0.9302078996788471,
            -0.9057037363841255,
            -0.8851185897857802,
            -0.8626373362446376,
            -0.8383081352518826,
            -0.8121831049840486,
            -0.7803619784608543,
            -0.7463789936525533,
            -0.7103282945580698,
            -0.6723097534221721,
            -0.6328223674155855,
            -0.5916155433906439,
            -0.5488012441721347,
            -0.504495800246457,
            -0.40235623503549667,
            -0.2949282300377848,
            -0.21018358209322,
            -0.12382641686417177,
            0.09683491319987293,
            0.29696326190453104,
            0.3468810710911031,
            0.3958345159750456,
            0.44368750105080573,
            0.49030699020189417,
            0.536169569430677,
            0.5805006861418222,
            0.6231737172528583,
            0.6640667756754713,
            0.7047406794322244,
            0.7432198523519251,
            0.7793844610974957,
            0.8131218804376403,
            0.8379203382429008,
            0.8610993303635677,
            0.882614058290011,
            0.9024229400698657,
            0.9228528689741143,
            0.9409703631410101,
            0.9567300247349135,
            0.970092364049346,
            0.9810238984581576,
            0.9894972363144792,
            0.9954911455872262,
            0.9989906070631732,
            0.9994321746736072,
            0.9997476199179404,
            0.9999369029888687,
            1.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.4913194444444445,
            "title": "",
            "len": 0.919938393117527,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(0, 0, 0, 1.000)",
            "shape": "linear",
            "dash": "dot",
            "width": 5
        },
        "y": [
            1.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.4913194444444445,
            "title": "",
            "len": 0.919938393117527,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            180.09753913206458,
            180.20025691752863,
            180.30297470299269,
            180.40569248845674,
            180.61112805938487,
            180.816563630313,
            183.3338507089901,
            185.8511377876672,
            188.3684248663443,
            190.88571194502143,
            194.43472597935482,
            197.9837400136882,
            201.53275404802156,
            205.08176808235493,
            207.73388146918813,
            210.38599485602137,
            213.0381082428546,
            215.6902216296878,
            218.70627023457556,
            221.7223188394633,
            224.738367444351,
            227.75441604923876,
            230.7413399920856,
            233.7282639349325,
            236.71518787777939,
            239.70211182062624,
            246.27443901937676,
            252.84676621812727,
            257.86688916218117,
            262.88701210623503,
            269.22197584904984,
            275.5569395918647,
            281.41612007550896,
            287.27530055915315,
            293.31803085249214,
            299.3607611458311,
            302.4232635448302,
            305.4857659438294,
            308.5482683428286,
            311.61077074182776,
            314.8085977415025,
            318.0064247411773,
            321.2042517408521,
            324.40207874052686,
            326.92115967758116,
            329.4402406146354,
            331.9593215516897,
            334.478402488744,
            337.34678122811954,
            340.2151599674951,
            343.0835387068706,
            345.95191744624617,
            348.8202961856217,
            351.68867492499726,
            354.5570536643728,
            357.42543240374835,
            358.06907430281126,
            358.7127162018742,
            359.3563581009371,
            360.0
        ],
        "showlegend": false,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(0, 0, 0, 1.000)",
            "shape": "linear",
            "dash": "dot",
            "width": 5
        },
        "y": [
            -0.9999985509532132,
            -0.999993891995458,
            -0.9999860190570243,
            -0.999974932163216,
            -0.999943116662338,
            -0.9998984459018438,
            -0.9983076331880723,
            -0.994790117535368,
            -0.9893526876404417,
            -0.9820058375752714,
            -0.9684322566077931,
            -0.9511441740211463,
            -0.9302078996788471,
            -0.9057037363841255,
            -0.8851185897857802,
            -0.8626373362446376,
            -0.8383081352518826,
            -0.8121831049840486,
            -0.7803619784608543,
            -0.7463789936525533,
            -0.7103282945580698,
            -0.6723097534221721,
            -0.6328223674155855,
            -0.5916155433906439,
            -0.5488012441721347,
            -0.504495800246457,
            -0.40235623503549667,
            -0.2949282300377848,
            -0.21018358209322,
            -0.12382641686417177,
            -0.013578665786716263,
            0.09683491319987293,
            0.19793313027249418,
            0.29696326190453104,
            0.3958345159750456,
            0.49030699020189417,
            0.536169569430677,
            0.5805006861418222,
            0.6231737172528583,
            0.6640667756754713,
            0.7047406794322244,
            0.7432198523519251,
            0.7793844610974957,
            0.8131218804376403,
            0.8379203382429008,
            0.8610993303635677,
            0.882614058290011,
            0.9024229400698657,
            0.9228528689741143,
            0.9409703631410101,
            0.9567300247349135,
            0.970092364049346,
            0.9810238984581576,
            0.9894972363144792,
            0.9954911455872262,
            0.9989906070631732,
            0.9994321746736072,
            0.9997476199179404,
            0.9999369029888687,
            1.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x1",
        "fill": "tozeroy",
        "yaxis": "y1",
        "x": [
            0.0,
            0.0,
            0.0,
            0.0,
            0.0
        ],
        "showlegend": true,
        "mode": "lines",
        "fillcolor": "rgba(255, 0, 0, 0.100)",
        "name": "y3",
        "legendgroup": "y3",
        "line": {
            "color": "rgba(0, 0, 0, 1.000)",
            "dash": "solid",
            "width": 0
        },
        "y": [
            -213.05984490852242,
            213.0598463575692,
            213.0598463575692,
            -213.05984490852242,
            -213.05984490852242
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x1",
        "fill": "tozeroy",
        "yaxis": "y1",
        "x": [
            180.09753913206458,
            180.09753913206458,
            360.0,
            360.0,
            180.09753913206458
        ],
        "showlegend": false,
        "mode": "lines",
        "fillcolor": "rgba(255, 0, 0, 0.100)",
        "name": "y3",
        "legendgroup": "y3",
        "line": {
            "color": "rgba(0, 0, 0, 1.000)",
            "dash": "solid",
            "width": 0
        },
        "y": [
            -213.05984490852242,
            213.0598463575692,
            213.0598463575692,
            -213.05984490852242,
            -213.05984490852242
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": false,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            100.0,
            200.0,
            300.0
        ],
        "range": [
            -10.800000000000011,
            370.8
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0",
            "100",
            "200",
            "300"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [
        {
            "yanchor": "top",
            "xanchor": "center",
            "rotation": -0.0,
            "y": 1.0,
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 20
            },
            "yref": "paper",
            "showarrow": false,
            "text": "Plot of f highlighting when g ≥ 0",
            "xref": "paper",
            "x": 0.5264550264550264
        }
    ],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -1.0,
            -0.5,
            0.0,
            0.5,
            1.0
        ],
        "range": [
            -1.0599985074818097,
            1.0599999565285962
        ],
        "domain": [
            0.031350247885680964,
            0.951288641003208
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−1.0",
            "−0.5",
            "0.0",
            "0.5",
            "1.0"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
</section>
<section id="practice-1" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="practice-1"><span class="header-section-number">6.3.1</span> Practice</h3>
<section id="question-5" class="level4">
<h4 class="anchored" data-anchor-id="question-5">Question</h4>
<p>Let <span class="math inline">\(f(x) = e^x\)</span>. Using a forward difference quotient and <span class="math inline">\(h=0.001\)</span> graph both the function and its approximate derivative over the interval <span class="math inline">\([0, 3]\)</span>. Estimate graphically the largest difference between the function and its approximate derivative.</p>
<div id="a01aa9f0" class="cell" data-execution_count="27">
<div class="cell-output cell-output-display" data-execution_count="28">
<script>
var ID = "SEiPeOxx"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="SEiPeOxx" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_SEiPeOxx" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_SEiPeOxx_1">
    <input class="form-check-input" type="radio" name="radio_SEiPeOxx" id="radio_SEiPeOxx_1" value="1">
    
    <span class="label-body px-1">
        It is about 0
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_SEiPeOxx_2">
    <input class="form-check-input" type="radio" name="radio_SEiPeOxx" id="radio_SEiPeOxx_2" value="2">
    
    <span class="label-body px-1">
        It is about 0.01
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_SEiPeOxx_3">
    <input class="form-check-input" type="radio" name="radio_SEiPeOxx" id="radio_SEiPeOxx_3" value="3">
    
    <span class="label-body px-1">
        It is about 0.1
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="SEiPeOxx_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_SEiPeOxx').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_SEiPeOxx')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_SEiPeOxx"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('SEiPeOxx_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_SEiPeOxx")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_SEiPeOxx")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-6" class="level4">
<h4 class="anchored" data-anchor-id="question-6">Question</h4>
<p>Let <span class="math inline">\(f(x) = x^2 \exp(-x)\)</span>. Using <span class="math inline">\(h=0.0001\)</span> and an approximate derivative, estimate graphically where <span class="math inline">\(f'(x)\)</span> is positive on the interval <span class="math inline">\([0,3]\)</span>.</p>
<div id="a14356ae" class="cell" data-execution_count="28">
<div class="cell-output cell-output-display" data-execution_count="29">
<script>
var ID = "ypbGYFTK"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="ypbGYFTK" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_ypbGYFTK" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_ypbGYFTK_1">
    <input class="form-check-input" type="radio" name="radio_ypbGYFTK" id="radio_ypbGYFTK_1" value="1">
    
    <span class="label-body px-1">
        It is for the entire interval
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_ypbGYFTK_2">
    <input class="form-check-input" type="radio" name="radio_ypbGYFTK" id="radio_ypbGYFTK_2" value="2">
    
    <span class="label-body px-1">
        Between 0 and 2
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_ypbGYFTK_3">
    <input class="form-check-input" type="radio" name="radio_ypbGYFTK" id="radio_ypbGYFTK_3" value="3">
    
    <span class="label-body px-1">
        From 0 to about 0.45
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="ypbGYFTK_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_ypbGYFTK').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_ypbGYFTK')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_ypbGYFTK"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('ypbGYFTK_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_ypbGYFTK")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_ypbGYFTK")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-7" class="level4">
<h4 class="anchored" data-anchor-id="question-7">Question</h4>
<p>The critical points of a function are where its derivative is undefined or where its derivative is <span class="math inline">\(0\)</span>. For the function <span class="math inline">\(f(x) = 3x^4 -28x^3 + 96x^2 - 144x\)</span> graphically find any critical points over the interval <span class="math inline">\([0,10]\)</span></p>
<div id="abc09131" class="cell" data-execution_count="29">
<div class="cell-output cell-output-display" data-execution_count="30">
<script>
var ID = "NZUn6eXh"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="NZUn6eXh" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_NZUn6eXh" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_NZUn6eXh_1">
    <input class="form-check-input" type="radio" name="radio_NZUn6eXh" id="radio_NZUn6eXh_1" value="1">
    
    <span class="label-body px-1">
        There are two distinct ones: 2, 2.6667
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_NZUn6eXh_2">
    <input class="form-check-input" type="radio" name="radio_NZUn6eXh" id="radio_NZUn6eXh_2" value="2">
    
    <span class="label-body px-1">
        There is one at 3
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_NZUn6eXh_3">
    <input class="form-check-input" type="radio" name="radio_NZUn6eXh" id="radio_NZUn6eXh_3" value="3">
    
    <span class="label-body px-1">
        There are two distinct ones: 2, 4.69
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_NZUn6eXh_4">
    <input class="form-check-input" type="radio" name="radio_NZUn6eXh" id="radio_NZUn6eXh_4" value="4">
    
    <span class="label-body px-1">
        There are two distinct ones: 2, 3
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="NZUn6eXh_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_NZUn6eXh').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_NZUn6eXh')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_NZUn6eXh"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 4;
    var msgBox = document.getElementById('NZUn6eXh_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_NZUn6eXh")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_NZUn6eXh")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
</section>
</section>
<section id="improvements-to-the-basic-forward-difference-quotient" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="improvements-to-the-basic-forward-difference-quotient"><span class="header-section-number">6.4</span> Improvements to the basic forward difference quotient</h2>
<p>The error in the approximation of the derivative depends on the size of <span class="math inline">\(h\)</span>. Mathematically, as <span class="math inline">\(h\)</span> gets smaller we get better approximations, though with the computer other complications arise. To see mathematically that this is the case, let’s look at the difference between the approximate numeric derivative from the forward difference quotient and a known derivative.</p>
<div id="c41b9237" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fu">cos</span>(x)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>[ <span class="fu">Df</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">df</span>(<span class="fl">.5</span>) for h<span class="op">=</span>[<span class="fl">.1</span>, <span class="fl">.01</span>, <span class="fl">.001</span>, <span class="fl">.0001</span>, <span class="fl">.00001</span>] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>5-element Vector{Float64}:
 -0.0254132139820491
 -0.0024117340199198978
 -0.00023985901305767499
 -2.3972739644051444e-5
 -2.3971472203898614e-6</code></pre>
</div>
</div>
<p>It gets better as <span class="math inline">\(h\)</span> gets smaller. In fact, it looks like when <span class="math inline">\(h\)</span> gets smaller by a factor of <span class="math inline">\(1/10\)</span> so does the error. Let’s look a little deeper though. Rather than type in the values of <span class="math inline">\(h\)</span> as above, let’s use an expression to compute them. Here we find the powers <span class="math inline">\(10^{-1}, \dots, 10^{-16}\)</span> at once and then compute the differences:</p>
<div id="48345df4" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>hs <span class="op">=</span> [(<span class="fl">1</span><span class="op">/</span><span class="fl">10</span>)<span class="op">^</span>i for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">16</span>];</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>out <span class="op">=</span> [ <span class="fu">Df</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">fp</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs ];</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>[hs out]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>16×2 Matrix{Float64}:
 0.1      -0.0254132
 0.01     -0.00241173
 0.001    -0.000239859
 0.0001   -2.3973e-5
 1.0e-5   -2.39743e-6
 1.0e-6   -2.39975e-7
 1.0e-7   -2.498e-8
 1.0e-8   -4.44089e-16
 1.0e-9   -4.44089e-16
 1.0e-10  -1.11022e-7
 1.0e-11  -1.22125e-6
 1.0e-12  -6.77236e-6
 1.0e-13   4.87388e-5
 1.0e-14  -0.000506373
 1.0e-15   0.0105959
 1.0e-16   0.23264</code></pre>
</div>
</div>
<p>When we look, we see that for awhile the approximation gets better (to about <code>1e-9</code>), but then does a U-turn and starts getting worse. The mathematical approximation gets better and better, but what happens is the computational error gets worse. We’ll see below how to pick the <span class="math inline">\(h\)</span> that best balances these off, but first lets look at how using different approximations for the derivative can improve the “mathematical” error.</p>
<section id="central-difference-quotient" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="central-difference-quotient"><span class="header-section-number">6.4.1</span> Central difference quotient</h3>
<p>It turns out that just by looking to the left and the right we can improve the mathematical error from getting better at a rate of <span class="math inline">\(h\)</span> to a rate of <span class="math inline">\(h^2\)</span>, provided our function is smooth enough and we don’t have issues on the boundaries. The formula, called the <em>central difference quotient</em> approximation to the derivative is:</p>
<p><span class="math display">\[
f'(x) \approx \frac{ f(x + h) - f(x - h) }{2h}
\]</span></p>
<p>For this the mathematical error is like <span class="math inline">\(h^2\)</span>, not <span class="math inline">\(h\)</span>.</p>
<p>Let’s compare. To make our life easier we again create some functions, as we did with <code>Df</code> above.</p>
<div id="8e339a95" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">central_difference</span>(f, x0, h) <span class="op">=</span> (<span class="fu">f</span>(x0 <span class="op">+</span> h) <span class="op">-</span> <span class="fu">f</span>(x0 <span class="op">-</span> h)) <span class="op">/</span> (<span class="fl">2</span>h)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Dc</span>(f; h<span class="op">=</span><span class="fl">0.0001</span>) <span class="op">=</span> x <span class="op">-&gt;</span> <span class="fu">central_difference</span>(f, x, h)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>Dc (generic function with 1 method)</code></pre>
</div>
</div>
<p>Now to see whether a forward difference quotient or central difference quotient works better. We can do so with a table. Again with <span class="math inline">\(f(x) = \sin(x)\)</span></p>
<div id="5cce9f4b" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fu">cos</span>(x)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>using_D <span class="op">=</span>  [ <span class="fu">Df</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">df</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs ];</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>using_Dc <span class="op">=</span> [ <span class="fu">Dc</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">df</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs ];</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>[hs using_D using_Dc]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>16×3 Matrix{Float64}:
 0.1      -0.0254132    -0.00146191
 0.01     -0.00241173   -1.46263e-5
 0.001    -0.000239859  -1.46264e-7
 0.0001   -2.39727e-5   -1.46274e-9
 1.0e-5   -2.39715e-6   -1.75036e-11
 1.0e-6   -2.3969e-7     7.47635e-12
 1.0e-7   -2.4695e-8    -2.70079e-10
 1.0e-8    2.85032e-10   2.85032e-10
 1.0e-9    2.85032e-10   2.85032e-10
 1.0e-10  -1.10737e-7   -1.10737e-7
 1.0e-11  -1.22096e-6   -1.22096e-6
 1.0e-12  -6.77208e-6   -6.77208e-6
 1.0e-13   4.87391e-5    4.87391e-5
 1.0e-14  -0.000506372  -0.000506372
 1.0e-15   0.0105959     0.0105959
 1.0e-16   0.23264       0.23264</code></pre>
</div>
</div>
<p>The errors for the central difference quotient are either much smaller for the same size <span class="math inline">\(h\)</span> or the same. We see that we can use a larger <span class="math inline">\(h\)</span> to get the most accuracy in this example.</p>
<section id="example-when-does-the-tangent-line-hit-0" class="level5">
<h5 class="anchored" data-anchor-id="example-when-does-the-tangent-line-hit-0">Example: When does the tangent line hit 0?</h5>
<p>Let <span class="math inline">\(f(x) = 10/(1+x^2) - 10\exp(-(1/2)x^2)\)</span>. The tangent line at <span class="math inline">\(x=c\)</span> is given by</p>
<p><span class="math display">\[
y = f( c) - f'( c)(x - c)
\]</span></p>
<p>and this intersects the <span class="math inline">\(x\)</span> axis when <span class="math inline">\(y=0\)</span>. Solving this gives:</p>
<p><span class="math display">\[
c - f( c)/f'( c)
\]</span></p>
<p>Our goal is to compute this value for any <span class="math inline">\(c &gt; 0\)</span>.</p>
<p>Doing so is easy:</p>
<div id="30eb81ae" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fl">10</span><span class="op">/</span>(<span class="fl">1</span><span class="op">+</span>x<span class="op">^</span><span class="fl">2</span>) <span class="op">-</span> <span class="fl">10</span><span class="fu">*exp</span>(<span class="fu">-</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">2</span>)<span class="op">*</span>x<span class="op">^</span><span class="fl">2</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>fp <span class="op">=</span> <span class="fu">Dc</span>(f)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">intersection_point</span>(c) <span class="op">=</span> c <span class="op">-</span> <span class="fu">f</span>(c)<span class="op">/</span><span class="fu">fp</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>intersection_point (generic function with 1 method)</code></pre>
</div>
</div>
<p>For example, when <span class="math inline">\(c=1\)</span> we have:</p>
<div id="19b69a8f" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="fl">1</span>;</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">intersection_point</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>2.000000018978514</code></pre>
</div>
</div>
<p>You can tell from the graph of <span class="math inline">\(f(x)\)</span> that this value should be more than 1, as it is.</p>
<div id="10a0765f" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">.5</span>, <span class="fl">2.1</span>, legend<span class="op">=</span><span class="cn">false</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(zero)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(<span class="fu">tangent</span>(f, c))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
    <div id="e8866349-6164-4fb1-9f43-e721292367fe" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('e8866349-6164-4fb1-9f43-e721292367fe', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.5,
            0.5041294825939733,
            0.5082589651879466,
            0.5123884477819198,
            0.5165179303758931,
            0.5407039326402222,
            0.5648899349045513,
            0.5890759371688805,
            0.6132619394332096,
            0.6357645885235248,
            0.65826723761384,
            0.6733482062569314,
            0.6884291749000226,
            0.7035101435431139,
            0.7185911121862053,
            0.7435141812246904,
            0.7684372502631754,
            0.7916132335700932,
            0.814789216877011,
            0.8293361259261995,
            0.8438830349753882,
            0.8584299440245768,
            0.8729768530737654,
            0.8990741637956656,
            0.9251714745175659,
            0.9550433695729725,
            0.9849152646283792,
            1.0072445055614172,
            1.0295737464944552,
            1.0581332717715783,
            1.0866927970487015,
            1.112759183297869,
            1.1388255695470362,
            1.1684923355918633,
            1.1981591016366901,
            1.2216766332425961,
            1.245194164848502,
            1.3036291716902801,
            1.348380941977873,
            1.4114745248104663,
            1.458623207243057,
            1.5122418491077279,
            1.5653427192027833,
            1.6237634054138992,
            1.6683867204721556,
            1.696542114884666,
            1.7246975092971764,
            1.7507383114467063,
            1.776779113596236,
            1.8036356926777426,
            1.8304922717592493,
            1.8577145153059087,
            1.8849367588525678,
            1.9133618877385659,
            1.9417870166245637,
            1.9641788471761574,
            1.9865706777277512,
            2.037564077538872,
            2.0885574773499926,
            2.0942787386749964,
            2.1
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            -0.8249690258459541,
            -0.8331415415416776,
            -0.8412431220863699,
            -0.8492720730321777,
            -0.8572267314486961,
            -0.902240884245276,
            -0.9443479583095771,
            -0.983280217063518,
            -1.0188078887783547,
            -1.048636218214864,
            -1.075224262091358,
            -1.0911789735174287,
            -1.1056094290763046,
            -1.1184970694306005,
            -1.1298281580397882,
            -1.1451200025109758,
            -1.1561227805192633,
            -1.162519166066735,
            -1.1652549680965247,
            -1.1651256846313176,
            -1.1635921453389928,
            -1.1606738613859129,
            -1.1563927234359896,
            -1.1453743633125084,
            -1.1302036718666901,
            -1.1079660769308122,
            -1.080800692142656,
            -1.0574585411282733,
            -1.031667802430701,
            -0.9953328444045493,
            -0.9555151459109057,
            -0.9163891167718239,
            -0.8748446219773163,
            -0.8249138981319284,
            -0.772489529364683,
            -0.7293811411133131,
            -0.6850798368218225,
            -0.5708673087328417,
            -0.48055437960180525,
            -0.3511031075560487,
            -0.25409085177699353,
            -0.1448115404460557,
            -0.03883906593564124,
            0.07392749930128328,
            0.1566650921425805,
            0.20713363199888013,
            0.25614741780588,
            0.30011474182144005,
            0.3427126754956298,
            0.3851599156602179,
            0.4260551716211103,
            0.46588606961280754,
            0.5040550235144834,
            0.542112735865639,
            0.578317025225866,
            0.6055256380287282,
            0.6315773076098605,
            0.6866011478129439,
            0.7357059834029351,
            0.7408511463064322,
            0.7459235824449812
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.5,
            0.5165179303758931,
            0.6132619394332096,
            0.65826723761384,
            0.7185911121862053,
            0.7684372502631754,
            0.814789216877011,
            0.8729768530737654,
            0.9251714745175659,
            0.9849152646283792,
            1.0295737464944552,
            1.0866927970487015,
            1.1388255695470362,
            1.1981591016366901,
            1.245194164848502,
            1.3036291716902801,
            1.348380941977873,
            1.4114745248104663,
            1.458623207243057,
            1.5122418491077279,
            1.5653427192027833,
            1.6237634054138992,
            1.6683867204721556,
            1.7246975092971764,
            1.776779113596236,
            1.8304922717592493,
            1.8849367588525678,
            1.9417870166245637,
            1.9865706777277512,
            2.0885574773499926,
            2.1
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0,
            0.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.5,
            0.5165179303758931,
            0.6132619394332096,
            0.65826723761384,
            0.7185911121862053,
            0.7684372502631754,
            0.814789216877011,
            0.8729768530737654,
            0.9251714745175659,
            0.9849152646283792,
            1.0295737464944552,
            1.0866927970487015,
            1.1388255695470362,
            1.1981591016366901,
            1.245194164848502,
            1.3036291716902801,
            1.348380941977873,
            1.4114745248104663,
            1.458623207243057,
            1.5122418491077279,
            1.5653427192027833,
            1.6237634054138992,
            1.6683867204721556,
            1.7246975092971764,
            1.776779113596236,
            1.8304922717592493,
            1.8849367588525678,
            1.9417870166245637,
            1.9865706777277512,
            2.0885574773499926,
            2.1
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y3",
        "legendgroup": "y3",
        "line": {
            "color": "rgba(62, 164, 78, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            -1.5979598956895007,
            -1.5803632354891883,
            -1.4773012044079792,
            -1.429356763350516,
            -1.3650933418043536,
            -1.3119919220696872,
            -1.2626128662461886,
            -1.200625193534599,
            -1.145021918976007,
            -1.0813764652336264,
            -1.0338014898840489,
            -0.9729521885070178,
            -0.9174148020380555,
            -0.8542063988721401,
            -0.8040996357363427,
            -0.7418484374446741,
            -0.6941740813242192,
            -0.6269600712963207,
            -0.5767322688550675,
            -0.5196119759476793,
            -0.4630432687222682,
            -0.40080732629291904,
            -0.3532698143757116,
            -0.2932815595510292,
            -0.23779868290231765,
            -0.18057770115876948,
            -0.12257762988109766,
            -0.06201467522825799,
            -0.014306345611562188,
            0.09434086484581305,
            0.10653065971263342
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": false,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.5,
            1.0,
            1.5,
            2.0
        ],
        "range": [
            0.45199999999999996,
            2.148
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0.5",
            "1.0",
            "1.5",
            "2.0"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -1.5,
            -1.0,
            -0.5,
            0.0,
            0.5
        ],
        "range": [
            -1.6682764000335353,
            0.8162400867890159
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−1.5",
            "−1.0",
            "−0.5",
            "0.0",
            "0.5"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<hr>
<p>We could have defined <code>intersection_point</code> to accept a function with:</p>
<pre><code>intersection_point(f, c) = c  - f(c)/Dc(f)(c)</code></pre>
<p>Then it could easily be reused for other problems.</p>
</section>
</section>
<section id="practice-2" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="practice-2"><span class="header-section-number">6.4.2</span> Practice</h3>
<section id="question-8" class="level4">
<h4 class="anchored" data-anchor-id="question-8">Question</h4>
<p>Let</p>
<pre><code>f(x) = besselj(1, x)</code></pre>
<p>This defines <span class="math inline">\(f\)</span> as a Bessel function of the first kind with order <span class="math inline">\(\alpha=1\)</span>. Plot the approximate derivative over the interval <span class="math inline">\([0,5]\)</span>. There is one zero. What is its approximate value:</p>
<div id="f467b9bf" class="cell" data-execution_count="37">
<div class="cell-output cell-output-display" data-execution_count="38">
<script>
var ID = "DNRtpvBS"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="DNRtpvBS" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_DNRtpvBS" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="DNRtpvBS" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="DNRtpvBS_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_DNRtpvBS').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_DNRtpvBS')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("DNRtpvBS").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 1.8411837814875183) <= 0.1);
  var msgBox = document.getElementById('DNRtpvBS_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_DNRtpvBS")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_DNRtpvBS")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-9" class="level4">
<h4 class="anchored" data-anchor-id="question-9">Question</h4>
<p>Let <span class="math inline">\(f(x) = \sin(\cos(x))\)</span>. Plot the approximate derivative of <span class="math inline">\(f\)</span>. How many zeros are there between <span class="math inline">\(5\)</span> and <span class="math inline">\(20\)</span>?</p>
<div id="00a1db77" class="cell" data-execution_count="38">
<div class="cell-output cell-output-display" data-execution_count="39">
<script>
var ID = "QNss930C"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="QNss930C" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_QNss930C" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="QNss930C" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="QNss930C_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_QNss930C').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_QNss930C')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("QNss930C").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 5) <= 1.0e-10);
  var msgBox = document.getElementById('QNss930C_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_QNss930C")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_QNss930C")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-10" class="level4">
<h4 class="anchored" data-anchor-id="question-10">Question</h4>
<p>Let <span class="math inline">\(f(x) = |x^2 - 2|\)</span>. Plot the derivative of <span class="math inline">\(f(x)\)</span> over the interval <span class="math inline">\([-2,2]\)</span>. How many critical points do you see? (A critical point is where the derivative is <span class="math inline">\(0\)</span> <em>or</em> undefined.)</p>
<div id="d5b08de4" class="cell" data-execution_count="39">
<div class="cell-output cell-output-display" data-execution_count="40">
<script>
var ID = "dD9c6gmG"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="dD9c6gmG" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_dD9c6gmG" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="dD9c6gmG" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="dD9c6gmG_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_dD9c6gmG').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_dD9c6gmG')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("dD9c6gmG").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 3) <= 1.0e-10);
  var msgBox = document.getElementById('dD9c6gmG_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_dD9c6gmG")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_dD9c6gmG")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
</section>
</section>
<section id="automatic-differentiation" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="automatic-differentiation"><span class="header-section-number">6.5</span> Automatic differentiation</h2>
<p>We discuss now <a href="http://en.wikipedia.org/wiki/Automatic_differentiation">Forward Mode Automatic Differentiation</a>.</p>
<p>Automatic differentiation avoids the numeric instability issues of finite difference quotients by using a different approach. Whereas finite difference quotients have a long history, automatic differentiation only dates back to the 50s.</p>
<p>The <code>ForwardDiff</code> package implements automatic differentiation.</p>
<p>The <code>MTH229</code> package overloads the idea of <code>'</code>, to use automatic differentiation when the notation <code>f'</code> is encountered.</p>
<p>That means, we can find derivatives, as familiarly as:</p>
<div id="308da6e1" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span>x</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>f<span class="op">'</span>(<span class="fl">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>1.0</code></pre>
</div>
</div>
<p>Here <code>f</code> is a function, <code>f'</code> is a derived function, and <code>f'(1)</code> is this derived function evaluated at <code>1</code> – just as with the use within a math text book.</p>
<p>Unlike, finite difference quotients automatic differentiation does not have issues arising from the loss of precision encountered when subtracting two like-sized numbers. Unlike symbolic derivatives (such as those found by the Wolfram Alpha website used by your iPhone’s Siri) they can be computed quickly, even if the computations defining the function involve many steps.</p>
<p>So what is automatic differentiation? The idea of the forward mode is quite intuitive. The <em>tangent line</em> approximation of a function at the point <span class="math inline">\(c\)</span> becomes</p>
<p><span class="math display">\[
f(x) = f(c) + f'( c)(x-c) + O((x-c)^2)
\]</span></p>
<p>Where the notation <span class="math inline">\(O(x-c)^2\)</span> means that the last term is not precisely spelled out, but is like some constant times the difference <span class="math inline">\((x-c)^2\)</span>. This has many applications, but for this one it reduces the knowledge of the function values at this level to two values <span class="math inline">\((f(c), f'(c))\)</span></p>
<p>Now consider the product of two functions <span class="math inline">\(f(x)\)</span> and <span class="math inline">\(g(x)\)</span>? The above formula applied to <span class="math inline">\(f \cdot g\)</span> is:</p>
<p><span class="math display">\[
(f\cdot g)(x) = f(c) \cdot g(c) + (f'( c)g( c) + f( c)g'( c))(x-c) + O((x-c)^2)
\]</span></p>
<p>This follows by the product rule. Again we have that two values determine the product <span class="math inline">\(f\cdot g\)</span> at this level, these being <span class="math inline">\((f(c) \cdot g(c)\)</span>, and <span class="math inline">\(f'( c)g( c) + f( c)g'( c)\)</span>. <em>But</em>, this combination can be made from the values <span class="math inline">\((f(c), f'(c))\)</span> and <span class="math inline">\((g(c), g'(c))\)</span> which represent <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span>. Hence it is enough to know the two values for <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span> to compute the two values for <span class="math inline">\(f\cdot g\)</span>.</p>
<p>In fact, the rules of derivatives allow us to say the same for addition, subtraction, multiplication, division, powers <em>and</em> composition. For composition this is from the chain rule:</p>
<p><span class="math display">\[
(f \circ g)(x) = (f \circ g)(c) + f'( g(c)) g'(c) (x-c) + O((x-c)^2).
\]</span></p>
<p>Automatic differentiation can be implemented by extending how we store a value, storing both <span class="math inline">\((x, dx)\)</span> as above. With this, the rules of differentials inform us how we combine these values. For example:</p>
<ul>
<li><span class="math display">\[
(x, dx) + (y, dy) = (x + y, d(x+y)) = (x + y, 1dx +  1dy)
\]</span></li>
<li><span class="math display">\[
(x, dx) \cdot (y, dy) = (xy, d(xy)) = (xy, y dx + x dy)
\]</span></li>
<li><span class="math display">\[
(x, dx)^n = (x^n, d(x^n)) = (x^n, n x^{n-1} dx)
\]</span></li>
</ul>
<p>etc.</p>
<p>For functions we need to use the chain rule:</p>
<ul>
<li><span class="math display">\[
f((x, dx)) = (f(x), d(f(x))) = (f(x), f'(x) dx )
\]</span></li>
</ul>
<section id="examples" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="examples"><span class="header-section-number">6.5.1</span> Examples</h3>
<p>Using <code>'</code>, we see that plotting a function and its derivative is straightforward:</p>
<div id="636928fc" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">exp</span>(<span class="op">-</span>x)<span class="fu">*sin</span>(x)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">0</span>, <span class="fl">2</span>pi)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(f<span class="op">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
    <div id="be43d125-7ff6-4434-81ed-1ebb1d73dac5" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('be43d125-7ff6-4434-81ed-1ebb1d73dac5', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.00810822011272086,
            0.01621644022544172,
            0.02432466033816258,
            0.03243288045088344,
            0.0405411005636043,
            0.04864932067632516,
            0.05675754078904602,
            0.06486576090176688,
            0.07673803700072351,
            0.08861031309968015,
            0.10048258919863678,
            0.11235486529759342,
            0.12422714139655006,
            0.1360994174955067,
            0.14797169359446333,
            0.15984396969341996,
            0.1717162457923766,
            0.18358852189133323,
            0.19546079799028987,
            0.2073330740892465,
            0.21920535018820314,
            0.23107762628715978,
            0.2429499023861164,
            0.25482217848507305,
            0.2785667306829863,
            0.3023112828808996,
            0.32605583507881286,
            0.34980038727672613,
            0.3735449394746394,
            0.3972894916725527,
            0.42103404387046595,
            0.44477859606837916,
            0.4668705201522676,
            0.4889624442361561,
            0.5110543683200446,
            0.5331462924039331,
            0.5552382164878216,
            0.5773301405717101,
            0.5994220646555986,
            0.621513988739487,
            0.6511254014258332,
            0.6807368141121792,
            0.7103482267985253,
            0.7399596394848714,
            0.7695710521712176,
            0.7991824648575636,
            0.8287938775439097,
            0.8584052902302558,
            0.8828734560415732,
            0.9073416218528907,
            0.9318097876642082,
            0.9562779534755257,
            0.9807461192868432,
            1.0052142850981607,
            1.0296824509094782,
            1.0541506167207957,
            1.0996565535312537,
            1.1451624903417117,
            1.1906684271521697,
            1.2361743639626277,
            1.2932999422143399,
            1.350425520466052,
            1.4075510987177642,
            1.4646766769694763,
            1.5671605765224412,
            1.6696444760754061,
            1.7282978048597004,
            1.7869511336439947,
            1.845604462428289,
            1.9042577912125833,
            1.9919445153069189,
            2.0796312394012544,
            2.135707736151643,
            2.191784232902032,
            2.247860729652421,
            2.3039372264028097,
            2.3551184561190714,
            2.4062996858353327,
            2.457480915551594,
            2.5086621452678557,
            2.566912704181728,
            2.6251632630956,
            2.683413822009472,
            2.741664380923344,
            2.787840946250644,
            2.8340175115779447,
            2.8801940769052448,
            2.926370642232545,
            2.9837390760471068,
            3.0411075098616687,
            3.098475943676231,
            3.155844377490793,
            3.2437142729724426,
            3.3315841684540928,
            3.455468128651302,
            3.579352088848511,
            3.6719283103214266,
            3.764504531794342,
            3.869784488905287,
            3.9750644460162317,
            4.079327760634889,
            4.183591075253547,
            4.4130085735266915,
            4.588243921983994,
            4.809375872597159,
            5.013899854413529,
            5.224830933271066,
            5.438633934122107,
            5.661884374336093,
            5.837749400239379,
            6.2382506258098385,
            6.283185307179586
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.0,
            0.00804265456502861,
            0.015954888749629317,
            0.0237377685014894,
            0.03139235949282972,
            0.03891972698584586,
            0.04632093570036718,
            0.05359704968371543,
            0.06074913218274448,
            0.07099985398646229,
            0.0809902651788159,
            0.09072369083671722,
            0.10020344960429327,
            0.10943285291933982,
            0.11841520425993371,
            0.12715379841094065,
            0.13565192075015614,
            0.14391284655381748,
            0.1519398403212258,
            0.1597361551182183,
            0.16730503193923035,
            0.17464969908769004,
            0.18177337157448664,
            0.18867925053425733,
            0.19537052265923577,
            0.2081219176857291,
            0.22005274091207877,
            0.2311879121435382,
            0.24155207155719471,
            0.25116956553839204,
            0.2600644334975554,
            0.26826039563646614,
            0.2757808416334213,
            0.28219145754436936,
            0.28805556370033253,
            0.2933911824012943,
            0.2982160615766148,
            0.3025476696985234,
            0.3064031911822809,
            0.3097995222563658,
            0.31275326728631525,
            0.31604663558575524,
            0.3186125537439575,
            0.3204884840339123,
            0.32171090923274914,
            0.32231532683386943,
            0.32233624526934984,
            0.3218071820334496,
            0.3207606636011001,
            0.3195279209222869,
            0.31798070264831835,
            0.316135835413376,
            0.3140096900260997,
            0.3116181841107066,
            0.30897678515149385,
            0.3061005139179031,
            0.3030039482479688,
            0.2967071711312362,
            0.2897839998086479,
            0.28231632360147013,
            0.2743810628124662,
            0.2638679232177423,
            0.25286329237201594,
            0.24148807022985452,
            0.22985238807387479,
            0.20863537124084044,
            0.18739474875762693,
            0.17538832111445898,
            0.1635728532470777,
            0.15200387263119655,
            0.14072916121560697,
            0.12450865550766636,
            0.10914337932687937,
            0.09980298219804556,
            0.09086008480704597,
            0.08232569148351183,
            0.07420721004140138,
            0.06716404835403494,
            0.06047185147521504,
            0.0541297827003808,
            0.04813534392183374,
            0.041730770533287165,
            0.03576334320354346,
            0.03022319352128694,
            0.025098802776964906,
            0.02132350358519656,
            0.01779441797410962,
            0.014504196557456165,
            0.0114451656087444,
            0.007954775095954316,
            0.004793299182654801,
            0.0019447332445363939,
            -0.0006071372783552551,
            -0.0039777305168877215,
            -0.006748848241361318,
            -0.009747923676180673,
            -0.01182448062699684,
            -0.012861757025999726,
            -0.013522743848280278,
            -0.013884677935585978,
            -0.013900856651429476,
            -0.013640307207824292,
            -0.01316159858850517,
            -0.011579618210394911,
            -0.010092428440623179,
            -0.008114631463909146,
            -0.006345177969553122,
            -0.00469004451501323,
            -0.003248950894422192,
            -0.0020233340315521492,
            -0.0012561024133127643,
            -8.774001088159646e-5,
            -4.573915527954357e-19
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.01621644022544172,
            0.03243288045088344,
            0.04864932067632516,
            0.06486576090176688,
            0.08861031309968015,
            0.11235486529759342,
            0.1360994174955067,
            0.15984396969341996,
            0.18358852189133323,
            0.2073330740892465,
            0.23107762628715978,
            0.25482217848507305,
            0.2785667306829863,
            0.3023112828808996,
            0.32605583507881286,
            0.34980038727672613,
            0.3735449394746394,
            0.3972894916725527,
            0.42103404387046595,
            0.44477859606837916,
            0.4668705201522676,
            0.4889624442361561,
            0.5110543683200446,
            0.5331462924039331,
            0.5552382164878216,
            0.5773301405717101,
            0.5994220646555986,
            0.621513988739487,
            0.6511254014258332,
            0.6807368141121792,
            0.7103482267985253,
            0.7399596394848714,
            0.7695710521712176,
            0.7991824648575636,
            0.8287938775439097,
            0.8584052902302558,
            0.9073416218528907,
            0.9562779534755257,
            1.0052142850981607,
            1.0541506167207957,
            1.0996565535312537,
            1.1451624903417117,
            1.1906684271521697,
            1.2361743639626277,
            1.2932999422143399,
            1.350425520466052,
            1.4075510987177642,
            1.4646766769694763,
            1.5159186267459588,
            1.5671605765224412,
            1.6184025262989237,
            1.6696444760754061,
            1.7282978048597004,
            1.7869511336439947,
            1.845604462428289,
            1.9042577912125833,
            1.9919445153069189,
            2.0796312394012544,
            2.3039372264028097,
            2.5086621452678557,
            2.741664380923344,
            2.926370642232545,
            3.0411075098616687,
            3.155844377490793,
            3.2437142729724426,
            3.3315841684540928,
            3.455468128651302,
            3.579352088848511,
            3.6719283103214266,
            3.764504531794342,
            3.9750644460162317,
            4.183591075253547,
            4.4130085735266915,
            4.588243921983994,
            4.809375872597159,
            5.013899854413529,
            5.224830933271066,
            5.438633934122107,
            5.661884374336093,
            5.837749400239379,
            6.2382506258098385,
            6.283185307179586
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            1.0,
            0.9678300810314687,
            0.9361859487993534,
            0.9050671994804077,
            0.8744731702602914,
            0.8306212451082416,
            0.7878884971656384,
            0.7462700750549446,
            0.7057601253632668,
            0.6663518455613642,
            0.62803753551344,
            0.5908086475863505,
            0.5546558353680127,
            0.5195690010058671,
            0.4855373411772736,
            0.45254939170466424,
            0.4205930708291856,
            0.38965572115739416,
            0.35972415029635946,
            0.33078467019326036,
            0.3028231351962397,
            0.27767317596367536,
            0.2533451308696781,
            0.2298267030707511,
            0.2071053542118088,
            0.18516832683613543,
            0.164002666035933,
            0.14359524035561355,
            0.12393276196017328,
            0.09872268783734245,
            0.07479419953842942,
            0.0521143400428149,
            0.030649921670506508,
            0.010367595847968758,
            -0.008766080863888581,
            -0.026784584377036957,
            -0.04372136421615386,
            -0.06942936140089029,
            -0.09242380432175407,
            -0.11285282012707648,
            -0.13086242560933853,
            -0.14556436113278132,
            -0.15841128189612286,
            -0.16951372183190816,
            -0.17897950268015655,
            -0.18870629653398824,
            -0.1962196890357363,
            -0.20171233791776524,
            -0.2053685568225207,
            -0.20723031612410897,
            -0.20787682179066397,
            -0.2074232229012331,
            -0.2059789407666067,
            -0.20324295002411208,
            -0.19949106297218533,
            -0.1948600707166332,
            -0.18947732733976722,
            -0.18028236025289243,
            -0.17002684029708615,
            -0.14103747146579398,
            -0.11374944936311568,
            -0.0844749273160911,
            -0.06379995077950262,
            -0.052334209865597614,
            -0.041990949554340434,
            -0.03483768616156951,
            -0.028344551964188874,
            -0.02028209563174137,
            -0.013439006630696372,
            -0.00907285959124946,
            -0.0053029246018602375,
            0.0012761627315444161,
            0.005471232102040371,
            0.008005482222579458,
            0.008833026700351628,
            0.00890412133902907,
            0.00831848055705163,
            0.0073285186536455205,
            0.00613459684931583,
            0.004849713741889503,
            0.0038870232195625963,
            0.0020390379295022795,
            0.0018674427317079897
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            1.0,
            2.0,
            3.0,
            4.0,
            5.0,
            6.0
        ],
        "range": [
            -0.18849555921538785,
            6.4716808663949745
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            0.25,
            0.5,
            0.75,
            1.0
        ],
        "range": [
            -0.24411312644438388,
            1.03623630465372
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0.00",
            "0.25",
            "0.50",
            "0.75",
            "1.00"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>Second derivatives are also available:</p>
<div id="282dc2fd" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="fl">2</span>x</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(f<span class="op">'</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(f<span class="op">''</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
    <div id="2981a58a-eba6-403c-9e7a-cc81978571d8" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('2981a58a-eba6-403c-9e7a-cc81978571d8', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            -2.0,
            -1.9793525870301336,
            -1.9587051740602672,
            -1.8377751627386216,
            -1.716845151416976,
            -1.6605885286911881,
            -1.6043319059654002,
            -1.5289270627499434,
            -1.4535222195344868,
            -1.391214546938274,
            -1.3289068743420613,
            -1.2709669160747668,
            -1.2130269578074722,
            -1.1402924125615295,
            -1.0675578673155866,
            -1.002314590510836,
            -0.9370713137060853,
            -0.8623915760675687,
            -0.7877118384290519,
            -0.7318887360964571,
            -0.6760656337638623,
            -0.6046668205710544,
            -0.5332680073782465,
            -0.468102041755328,
            -0.4029360761324095,
            -0.32876916102034204,
            -0.2546022459082746,
            -0.19580841689350958,
            -0.13701458787874451,
            -0.06397082932652219,
            0.009072929225700136,
            0.06501264208519128,
            0.12095235494468241,
            0.19981933348542416,
            0.2786863120261659,
            0.3376221650669042,
            0.39655801810764246,
            0.46358132043848094,
            0.5306046227693194,
            0.5969807103881388,
            0.6633567980069583,
            0.7363826557708529,
            0.8094085135347475,
            0.8651876573575683,
            0.9209668011803891,
            0.9913552872116652,
            1.0617437732429413,
            1.1268457786167658,
            1.1919477839905903,
            1.2590892316943567,
            1.3262306793981231,
            1.3942862882647713,
            1.4623418971314193,
            1.5334047193464144,
            1.6044675415614096,
            1.6604471179403937,
            1.7164266943193778,
            1.7801684440832788,
            1.8439101938471796,
            1.9076519436110804,
            1.9713936933749814,
            1.978545270031236,
            1.9856968466874907,
            1.9928484233437453,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            8.0,
            7.87654183784315,
            7.753936307010996,
            7.05296787425621,
            6.381247576777931,
            6.078731319003142,
            5.782544676429374,
            5.395472088709056,
            5.019771281749435,
            4.717907009489215,
            4.42380722935771,
            4.1572907339061365,
            3.8974883159825953,
            3.5808516112684523,
            3.2747955346985766,
            3.0092637193725764,
            2.7522452743830192,
            2.4685023826074426,
            2.1959136172593805,
            1.9994385942177837,
            1.8091960086842573,
            1.5749556050416165,
            1.3509107824496587,
            1.1553236050061628,
            0.9682296337138019,
            0.7656274832787037,
            0.5740267954380868,
            0.4299577699133616,
            0.29280217304907125,
            0.13203392565776742,
            -0.018063540406665708,
            -0.12579864053948536,
            -0.2272752377227004,
            -0.35971090093628916,
            -0.4797065635415863,
            -0.5612556037893445,
            -0.6358577744898236,
            -0.7122550002174763,
            -0.779667979834467,
            -0.8375754522007508,
            -0.8866713545518722,
            -0.9305058958215714,
            -0.9636748852869654,
            -0.9818256322712596,
            -0.9937537534843398,
            -0.9999252689408072,
            -0.9961877064657243,
            -0.9839101484471064,
            -0.9631560482211017,
            -0.9328727700200279,
            -0.893573543819439,
            -0.8445383228863896,
            -0.7862399701569203,
            -0.7154794053789728,
            -0.6346189911987055,
            -0.5638096044042276,
            -0.48673279166660866,
            -0.39133719885667606,
            -0.2878155847208159,
            -0.17616794925902823,
            -0.05639429247131256,
            -0.04244915449949538,
            -0.028401726430337337,
            -0.014252008263838878,
            0.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            -2.0,
            -1.9587051740602672,
            -1.716845151416976,
            -1.6043319059654002,
            -1.4535222195344868,
            -1.3289068743420613,
            -1.2130269578074722,
            -1.0675578673155866,
            -0.9370713137060853,
            -0.7877118384290519,
            -0.6760656337638623,
            -0.5332680073782465,
            -0.4029360761324095,
            -0.2546022459082746,
            -0.13701458787874451,
            0.009072929225700136,
            0.12095235494468241,
            0.2786863120261659,
            0.39655801810764246,
            0.5306046227693194,
            0.6633567980069583,
            0.8094085135347475,
            0.9209668011803891,
            1.0617437732429413,
            1.1919477839905903,
            1.3262306793981231,
            1.4623418971314193,
            1.6044675415614096,
            1.7164266943193778,
            1.9713936933749814,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            -6.0,
            -5.9174103481205345,
            -5.433690302833952,
            -5.2086638119308,
            -4.907044439068974,
            -4.657813748684123,
            -4.426053915614944,
            -4.135115734631173,
            -3.8741426274121706,
            -3.5754236768581036,
            -3.3521312675277244,
            -3.066536014756493,
            -2.805872152264819,
            -2.5092044918165493,
            -2.274029175757489,
            -1.9818541415485997,
            -1.7580952901106353,
            -1.4426273759476682,
            -1.206883963784715,
            -0.9387907544613612,
            -0.6732864039860833,
            -0.38118297293050496,
            -0.1580663976392218,
            0.12348754648588267,
            0.38389556798118063,
            0.6524613587962462,
            0.9246837942628385,
            1.2089350831228192,
            1.4328533886387556,
            1.9427873867499628,
            2.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            -2.0,
            -1.9587051740602672,
            -1.716845151416976,
            -1.6043319059654002,
            -1.4535222195344868,
            -1.3289068743420613,
            -1.2130269578074722,
            -1.0675578673155866,
            -0.9370713137060853,
            -0.7877118384290519,
            -0.6760656337638623,
            -0.5332680073782465,
            -0.4029360761324095,
            -0.2546022459082746,
            -0.13701458787874451,
            0.009072929225700136,
            0.12095235494468241,
            0.2786863120261659,
            0.39655801810764246,
            0.5306046227693194,
            0.6633567980069583,
            0.8094085135347475,
            0.9209668011803891,
            1.0617437732429413,
            1.1919477839905903,
            1.3262306793981231,
            1.4623418971314193,
            1.6044675415614096,
            1.7164266943193778,
            1.9713936933749814,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y3",
        "legendgroup": "y3",
        "line": {
            "color": "rgba(62, 164, 78, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0,
            2.0
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -2.0,
            -1.0,
            0.0,
            1.0,
            2.0
        ],
        "range": [
            -2.12,
            2.12
        ],
        "domain": [
            0.058768695579719206,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−2",
            "−1",
            "0",
            "1",
            "2"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -5.0,
            -2.5,
            0.0,
            2.5,
            5.0,
            7.5
        ],
        "range": [
            -6.42,
            8.42
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−5.0",
            "−2.5",
            "0.0",
            "2.5",
            "5.0",
            "7.5"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>Here is an example where we plot the tangent line and the function. The <code>MTH229</code> package provides a function <code>tangent</code> which takes values for <code>f</code> and <code>c</code> and returns a <em>function</em> that represents the tangent line. The use is illustrated below. First we define a function <code>f</code> and use <code>tangent</code> to define a function <code>tl</code>:</p>
<div id="0d04e2fa" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span>x</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="fl">1</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>tl <span class="op">=</span> <span class="fu">tangent</span>(f, c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>Function of `x` to compute the tangent line of `f` at `c`:
    f(c) + f'(c) * (x-c)</code></pre>
</div>
</div>
<div id="9706b2ef" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span>, <span class="fl">2</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot!</span>(tl)     <span class="co"># or, more directly, plot!(tangent(f, c))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
    <div id="c323641d-c053-43da-9712-4bbac0019cde" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('c323641d-c053-43da-9712-4bbac0019cde', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.5,
            0.5154855597273997,
            0.606183068218634,
            0.648375535262975,
            0.7049291676745674,
            0.7516599221217269,
            0.7951148908221979,
            0.849665799756655,
            0.898598257360218,
            0.9546080605891055,
            0.9964753873385517,
            1.0500244972331576,
            1.0988989714503465,
            1.154524157784397,
            1.1986195295454707,
            1.2534023484596375,
            1.295357133104256,
            1.3249322500570342,
            1.3545073670098122,
            1.376608311900089,
            1.3987092567903658,
            1.4238429951644302,
            1.4489767335384947,
            1.4738677663955522,
            1.4987587992526095,
            1.52614349591407,
            1.5535281925755304,
            1.5744453715090883,
            1.595362550442646,
            1.6217582327043745,
            1.6481539149661029,
            1.672567166981287,
            1.6969804189964712,
            1.7221584618853836,
            1.7473365047742961,
            1.7728573580992892,
            1.7983782114242823,
            1.8250267697549054,
            1.8516753280855287,
            1.8726676692276476,
            1.8936600103697665,
            1.9175631665312294,
            1.9414663226926923,
            1.9653694788541551,
            1.989272635015618,
            1.9919544762617134,
            1.994636317507809,
            1.9973181587539046,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.7071067811865476,
            0.7106434597246825,
            0.7382749033443493,
            0.7550800288034364,
            0.7815437961923329,
            0.8068824159162422,
            0.8333555276371298,
            0.8707321141025973,
            0.9083936798423995,
            0.9566231250598264,
            0.996487788391417,
            1.0525916541606424,
            1.1091963911788052,
            1.1804451157428257,
            1.2425360622630375,
            1.3272320735306122,
            1.3982491618517485,
            1.4517717322746075,
            1.5083385764447377,
            1.5526999291164414,
            1.598933243372174,
            1.653887406866499,
            1.7114894982629603,
            1.7712733316795801,
            1.8339162571684637,
            1.9063071642874279,
            1.9825295816426014,
            2.0434623101853373,
            2.1068532133721427,
            2.190517387002161,
            2.2784826097734525,
            2.3638723465048512,
            2.4533363020111034,
            2.550088800267358,
            2.6516328700793617,
            2.7597082115919167,
            2.8732439090422797,
            2.997942890914994,
            3.1292712705254213,
            3.23763858902663,
            3.350547068904204,
            3.4849003956586566,
            3.6257213400969217,
            3.773343036995441,
            3.928116991384724,
            3.945944369850919,
            3.9638669683060375,
            3.981885329630604,
            4.0
        ],
        "type": "scatter"
    },
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.5,
            0.5154855597273997,
            0.606183068218634,
            0.648375535262975,
            0.7049291676745674,
            0.7516599221217269,
            0.7951148908221979,
            0.849665799756655,
            0.898598257360218,
            0.9546080605891055,
            0.9964753873385517,
            1.0500244972331576,
            1.0988989714503465,
            1.154524157784397,
            1.1986195295454707,
            1.2534023484596375,
            1.295357133104256,
            1.3545073670098122,
            1.3987092567903658,
            1.4489767335384947,
            1.4987587992526095,
            1.5535281925755304,
            1.595362550442646,
            1.6481539149661029,
            1.6969804189964712,
            1.7473365047742961,
            1.7983782114242823,
            1.8516753280855287,
            1.8936600103697665,
            1.989272635015618,
            2.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y2",
        "legendgroup": "y2",
        "line": {
            "color": "rgba(227, 111, 71, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            0.5,
            0.5154855597273997,
            0.606183068218634,
            0.648375535262975,
            0.7049291676745674,
            0.7516599221217269,
            0.7951148908221979,
            0.849665799756655,
            0.898598257360218,
            0.9546080605891055,
            0.9964753873385517,
            1.0500244972331576,
            1.0988989714503465,
            1.154524157784397,
            1.1986195295454707,
            1.2534023484596375,
            1.295357133104256,
            1.3545073670098122,
            1.3987092567903658,
            1.4489767335384947,
            1.4987587992526095,
            1.5535281925755304,
            1.595362550442646,
            1.6481539149661029,
            1.6969804189964712,
            1.7473365047742961,
            1.7983782114242823,
            1.8516753280855287,
            1.8936600103697665,
            1.989272635015618,
            2.0
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.6000000000000001,
            0.9000000000000001,
            1.2000000000000002,
            1.5000000000000002,
            1.8000000000000003
        ],
        "range": [
            0.45499999999999996,
            2.045
        ],
        "domain": [
            0.01908615589717952,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0.6",
            "0.9",
            "1.2",
            "1.5",
            "1.8"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            1.0,
            2.0,
            3.0,
            4.0
        ],
        "range": [
            0.395,
            4.105
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "1",
            "2",
            "3",
            "4"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<hr>
<section id="example-ap-calculus-question" class="level5">
<h5 class="anchored" data-anchor-id="example-ap-calculus-question">Example: AP Calculus question</h5>
<p>The 2014 AP Calculus exam included this question:</p>
<p>Grass clippings are placed in a bin, where they decompose. For <span class="math inline">\(0 \leq t \leq 30\)</span>, the amount of grass clippings remaining in the bin is modeled by <span class="math inline">\(A(t) = 6.687(0.931)^t\)</span>. Where <span class="math inline">\(A(t)\)</span> is measured in pounds and <span class="math inline">\(t\)</span> is measured in days.</p>
<ul>
<li>Find the average rate of change of <span class="math inline">\(A(t)\)</span> over the interval of <span class="math inline">\(0 \leq t \leq 30\)</span>. Indicate units of measure.</li>
<li>Find the value of <span class="math inline">\(A'(15)\)</span>. Using correct units, interpret the meaning of the value in the context of the problem.</li>
<li>Find the time <span class="math inline">\(t\)</span> for which the amount of grass clippings in the bin is equal to the average amount of grass clippings in the bin over the interval <span class="math inline">\(0 \leq t \leq 30\)</span>.</li>
<li>For <span class="math inline">\(t &gt; 30\)</span>, <span class="math inline">\(L(t)\)</span>, the linear approximation to <span class="math inline">\(A\)</span> at <span class="math inline">\(t=30\)</span> is a better model for the amount of grass clippings remaining in the bin. Use <span class="math inline">\(L(t)\)</span> to predict the time at which there will be 0.5% pound of grass clippings remaining in the bin. Show the work that leads to your answer.</li>
</ul>
<p>We can do all this relatively quickly with the <code>find_zero</code> function from the <code>Roots</code> package.</p>
<p>First, we define <span class="math inline">\(A(t)\)</span>:</p>
<div id="22e18e44" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">A</span>(t) <span class="op">=</span> <span class="fl">6.687</span> <span class="op">*</span> (<span class="fl">0.931</span>)<span class="op">^</span>t</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>A (generic function with 1 method)</code></pre>
</div>
</div>
<p>The first question is answered by the slope of the secant line connecting <span class="math inline">\((0,A(0))\)</span> and <span class="math inline">\((30, A(30))\)</span>:</p>
<div id="9dfaeb46" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> (<span class="fu">A</span>(<span class="fl">30</span>) <span class="op">-</span> <span class="fu">A</span>(<span class="fl">0</span>)) <span class="op">/</span> (<span class="fl">30</span> <span class="op">-</span> <span class="fl">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>-0.1968024043540685</code></pre>
</div>
</div>
<p>The units are in pounds per day.</p>
<p>The second question is done through the derivative, as follows:</p>
<div id="93a90908" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>A<span class="op">'</span>(<span class="fl">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>-0.1635905803884566</code></pre>
</div>
</div>
<p>This also has units in pounds per day. This is the instantaneous rate of decomposition, and is less (in absolute value) than the average decay rate.</p>
<p>The mean value theorem tells us that there is at least one time where the instantaneous decomposition rate equals the average rate over the interval <span class="math inline">\([0,30]\)</span>. Thus the endpoints form a bracketing interval for the equation <span class="math inline">\(A'(t) = m\)</span>, which we solve with:</p>
<div id="0a9608f4" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eqn</span>(t) <span class="op">=</span> A<span class="op">'</span>(t) <span class="op">-</span> m</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">find_zero</span>(eqn, (<span class="fl">0</span>, <span class="fl">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>12.414773526372592</code></pre>
</div>
</div>
<p>So at 12.4 days, the instantaneous rate is equal to the average rate of decomposition over the first 30 days.</p>
<p>But this doesn’t really answer the question asked, which is about the average amount of grass clippings in the bin. For this we need the integral form of the mean value theorem. Skipping ahead a few lessons to solve this problem, we have:</p>
<div id="8bd949a1" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>a, err <span class="op">=</span> <span class="fu">quadgk</span>(A, <span class="fl">0</span>, <span class="fl">30</span>)   <span class="co"># area under A from 0,30</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>avg <span class="op">=</span> a<span class="op">/</span>(<span class="fl">30</span><span class="op">-</span><span class="fl">0</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">eqn</span>(t) <span class="op">=</span> <span class="fu">A</span>(t) <span class="op">-</span> avg</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">find_zero</span>(eqn, (<span class="fl">0</span>, <span class="fl">30</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>12.414773526372596</code></pre>
</div>
</div>
<p>We get the same answer – think about whether that is a coincidence.</p>
<p>Finally, we can define <span class="math inline">\(L(t)\)</span> using the point-slope form of the line. The point is <span class="math inline">\((30, A(30))\)</span> and the slope is <span class="math inline">\(A'(30)\)</span>:</p>
<div id="f2202f41" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">L</span>(t) <span class="op">=</span> <span class="fu">A</span>(<span class="fl">30</span>) <span class="op">+</span> A<span class="op">'</span>(<span class="fl">30</span>) <span class="op">*</span> (t <span class="op">-</span> <span class="fl">30</span>) <span class="co"># t &gt; 30</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>L (generic function with 1 method)</code></pre>
</div>
</div>
<p>We could restrict <span class="math inline">\(L\)</span> to insist that <span class="math inline">\(t &gt; 30\)</span>, but this isn’t necessary. We are asked to solve this. Using <code>find_zero</code> requires a bracket. We check that <span class="math inline">\(L(30) &gt; 0.5\)</span> and that <span class="math inline">\(L(100)\)</span> is negative:</p>
<div id="7275d188" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">L</span>(<span class="fl">30</span>), <span class="fu">L</span>(<span class="fl">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>(0.7829278693779448, -3.135406990501517)</code></pre>
</div>
</div>
<p>So, we can use <span class="math inline">\([30, 100]\)</span> as a bracket for <span class="math inline">\(L(t) - 0.5 = 0\)</span>:</p>
<div id="004406c8" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">eqn</span>(t) <span class="op">=</span> <span class="fu">L</span>(t) <span class="op">-</span> <span class="fl">0.5</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">find_zero</span>(eqn, (<span class="fl">30</span>, <span class="fl">100</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>35.054430405946825</code></pre>
</div>
</div>
<p>So a bit over 35 days to decompose to half a pound.</p>
<p>Here is a picture, showing the decay:</p>
<div id="9142ceb1" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(t) <span class="op">=</span> t <span class="op">&lt;=</span> <span class="fl">30</span> ? <span class="fu">A</span>(t) <span class="op">:</span> <span class="fu">L</span>(t)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(f, <span class="fl">0</span>, <span class="fl">40</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
    <div id="e95017f3-d899-4c4d-816c-ad9eb4d0630c" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('e95017f3-d899-4c4d-816c-ad9eb4d0630c', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            0.0,
            0.10323706484933198,
            0.20647412969866397,
            0.30971119454799595,
            0.41294825939732793,
            1.017598316005556,
            1.6222483726137837,
            2.226898429222012,
            2.8315484858302398,
            3.394114713088119,
            3.956680940345998,
            4.710729372500564,
            5.464777804655131,
            6.087854530617259,
            6.710931256579386,
            7.290330839252331,
            7.869730421925277,
            8.597075874384705,
            9.324421326844135,
            9.97685409489164,
            10.629286862939146,
            11.376084239324314,
            12.122881615709481,
            12.68111263903543,
            13.239343662361378,
            13.953331794289456,
            14.667319926217534,
            15.318979582446719,
            15.970639238675906,
            16.71230838979658,
            17.453977540917254,
            18.041915831064905,
            18.629854121212556,
            20.090729292257002,
            21.20952354944682,
            22.78686312026166,
            23.965580181076426,
            25.306046227693194,
            26.633567980069586,
            28.094085135347473,
            29.20966801180389,
            30.617437732429416,
            31.919477839905902,
            33.26230679398124,
            34.623418971314194,
            36.044675415614094,
            37.16426694319378,
            39.713936933749814,
            40.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            6.687,
            6.637824708729209,
            6.589011045882459,
            6.540556352093356,
            6.492457987552124,
            6.2177688221607825,
            5.954701470530585,
            5.702764225772016,
            5.461486184604199,
            5.246177476824074,
            5.039356905437414,
            4.774871334061741,
            4.524267021501144,
            4.327145493181883,
            4.1386125156139935,
            3.970673933964284,
            3.80955004373594,
            3.6165075382079754,
            3.4332471351626355,
            3.2767765030336844,
            3.127437037918049,
            2.9648332900023346,
            2.810683742288149,
            2.7007148364483142,
            2.595048499435296,
            2.4659026062022185,
            2.3431838228064326,
            2.236516569919816,
            2.1347050619080306,
            2.024458209587262,
            1.919905056439986,
            1.8408740721755008,
            1.7650963198627012,
            1.5900389731336255,
            1.467806649278294,
            1.3112694824927427,
            1.2052923861083327,
            1.0951422010704126,
            0.9959798239875683,
            0.8972242791604996,
            0.8284414364081528,
            0.748366043795329,
            0.675482770336953,
            0.6003162917425406,
            0.5241263875618241,
            0.4445698351257008,
            0.3818993421065411,
            0.23917847346105192,
            0.22316574653802168
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            0.0,
            10.0,
            20.0,
            30.0,
            40.0
        ],
        "range": [
            -1.2000000000000028,
            41.2
        ],
        "domain": [
            0.01908615589717952,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "0",
            "10",
            "20",
            "30",
            "40"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            1.0,
            2.0,
            3.0,
            4.0,
            5.0,
            6.0
        ],
        "range": [
            0.029250718934161757,
            6.88091502760386
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "1",
            "2",
            "3",
            "4",
            "5",
            "6"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
</section>
</section>
<section id="practice-3" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="practice-3"><span class="header-section-number">6.5.2</span> Practice</h3>
<section id="question-11" class="level4">
<h4 class="anchored" data-anchor-id="question-11">Question</h4>
<p>Which definition would be right for <span class="math inline">\((x,dx) - (y, dy)\)</span>?</p>
<div id="f4b2beb4" class="cell" data-execution_count="54">
<div class="cell-output cell-output-display" data-execution_count="55">
<script>
var ID = "BQJLyXQX"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="BQJLyXQX" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_BQJLyXQX" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_BQJLyXQX_1">
    <input class="form-check-input" type="radio" name="radio_BQJLyXQX" id="radio_BQJLyXQX_1" value="1">
    
    <span class="label-body px-1">
        <code>(x - y, dx - y)</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_BQJLyXQX_2">
    <input class="form-check-input" type="radio" name="radio_BQJLyXQX" id="radio_BQJLyXQX_2" value="2">
    
    <span class="label-body px-1">
        <code>(x - dx, y -dy)</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_BQJLyXQX_3">
    <input class="form-check-input" type="radio" name="radio_BQJLyXQX" id="radio_BQJLyXQX_3" value="3">
    
    <span class="label-body px-1">
        <code>(x-y, dx - dy)</code>
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="BQJLyXQX_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_BQJLyXQX').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_BQJLyXQX')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_BQJLyXQX"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 3;
    var msgBox = document.getElementById('BQJLyXQX_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_BQJLyXQX")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_BQJLyXQX")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-find-tangent-line-intersection" class="level4">
<h4 class="anchored" data-anchor-id="question-find-tangent-line-intersection">Question: find tangent line intersection</h4>
<p>Redefine <code>intersection_point</code> as:</p>
<div id="32a5669f" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersection_point</span>(f, c) <span class="op">=</span> c <span class="op">-</span> <span class="fu">f</span>(c)<span class="op">/</span>f<span class="op">'</span>(c)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>intersection_point (generic function with 2 methods)</code></pre>
</div>
</div>
<p>Now for <span class="math inline">\(f(x) = 10/(1+x^2) - 10 \cdot \exp(-(1/2) \cdot x^2)\)</span> and <span class="math inline">\(c=1\)</span> find the intersection point.</p>
<div id="6bb72ded" class="cell" data-execution_count="56">
<div class="cell-output cell-output-display" data-execution_count="57">
<script>
var ID = "iYAdMOb2"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="iYAdMOb2" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_iYAdMOb2" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <br>
<div class="input-group" aria-label="Input form: Numeric answer">
    <input id="iYAdMOb2" type="number" class="form-control qqinput" placeholder="Numeric answer" aria-label="Numeric answer">
</div>

         </div>
    </div>
    <div id="iYAdMOb2_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_iYAdMOb2').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_iYAdMOb2')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.getElementById("iYAdMOb2").addEventListener("change", function() {
  var correct = (Math.abs(this.value - 2) <= 0.0001);
  var msgBox = document.getElementById('iYAdMOb2_message');
  
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_iYAdMOb2")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_iYAdMOb2")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-what-is-the-size-of-the-error" class="level4">
<h4 class="anchored" data-anchor-id="question-what-is-the-size-of-the-error">Question: what is the size of the error?</h4>
<p>We can compare the error at many different points with the following construct</p>
<div id="0176e3f2" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">exp</span>(<span class="op">-</span>x)<span class="fu">*sin</span>(x)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>dfpx) <span class="op">=</span> <span class="fu">exp</span>(<span class="op">-</span>x)<span class="fu">*</span>(<span class="fu">cos</span>(x) <span class="op">-</span> <span class="fu">sin</span>(x))</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>[<span class="fu">abs</span>(f<span class="op">'</span>(x) <span class="op">-</span> <span class="fu">df</span>(x) ) for x <span class="kw">in</span> <span class="fu">range</span>(<span class="fl">0</span>, <span class="cn">pi</span>, <span class="fl">25</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What is the order (exponent) of the largest difference above?</p>
<div id="fac72d31" class="cell" data-execution_count="58">
<div class="cell-output cell-output-display" data-execution_count="58">
<script>
var ID = "3t8rMl6L"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="3t8rMl6L" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_3t8rMl6L" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_3t8rMl6L_1">
    <input class="form-check-input" type="radio" name="radio_3t8rMl6L" id="radio_3t8rMl6L_1" value="1">
    
    <span class="label-body px-1">
        <code>1e-10</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_3t8rMl6L_2">
    <input class="form-check-input" type="radio" name="radio_3t8rMl6L" id="radio_3t8rMl6L_2" value="2">
    
    <span class="label-body px-1">
        <code>1e-17</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_3t8rMl6L_3">
    <input class="form-check-input" type="radio" name="radio_3t8rMl6L" id="radio_3t8rMl6L_3" value="3">
    
    <span class="label-body px-1">
        <code>1e-14</code>
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="3t8rMl6L_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_3t8rMl6L').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_3t8rMl6L')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_3t8rMl6L"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 2;
    var msgBox = document.getElementById('3t8rMl6L_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_3t8rMl6L")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_3t8rMl6L")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
</section>
</section>
<section id="error-analysis" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="error-analysis"><span class="header-section-number">6.6</span> Error analysis</h2>
<p>We end with a digression on how big <code>h</code> should be to have the approximate derivatives as close as can be.</p>
<p>The choice of <span class="math inline">\(h\)</span> in the derivative approximations above was done somewhat arbitrarily, with only the intuition that smaller <span class="math inline">\(h\)</span>’s should produce more accurate approximations (which of course may be way off, as we are subtracting like-sized values in the derivative formula). Here we look a bit more closely at how to choose <span class="math inline">\(h\)</span>.</p>
<p>As mentioned, with a bit of work from the second semester of calculus one can learn that the <em>mathematical error</em> in the forward difference quotient is “order <span class="math inline">\(h\)</span>” whereas the mathematical error in the central difference quotient is “order <span class="math inline">\(h^2\)</span>. This means that as <span class="math inline">\(h\)</span> gets small the approximation error in the first is a multiple of <span class="math inline">\(h\)</span>, but for the second a multiple of <span class="math inline">\(h^2\)</span> – a much smaller error in general.</p>
<p>However there is also error due to <em>floating point approximation</em>. Such error is different in that it gets bigger as <span class="math inline">\(h\)</span> gets smaller. So one error gets bigger, the other gets smaller. So clearly if <span class="math inline">\(h\)</span> gets too small, the floating point error will dominate and the overall error will not get smaller, rather larger.</p>
<p>So, how big is the floating point error? For any given number, it can be roughly as big as the the machine precision amount, <span class="math inline">\(\epsilon\)</span>. So in the forward-difference quotient approximation we could have errors in both terms <span class="math inline">\(f(x+h)\)</span> and <span class="math inline">\(f(x)\)</span> so the total error could be as big as <span class="math inline">\(2\epsilon\)</span>. But this is divided by <span class="math inline">\(h\)</span> as we have:</p>
<p><span class="math display">\[
\frac{f(x+h) - f(x)}{h} = \frac{float(f(x +h)) + \epsilon - float(f(x_) + \epsilon}{h} =
         \frac{float(f(x+h))-float(f(x))}{h} + \frac{2\epsilon}{h}.
\]</span></p>
<p>The errors may or <em>may not</em> cancel so the algebra with <span class="math inline">\(\epsilon\)</span> is unusual to the untrained eye. It basically takes into account the worse case.</p>
<p>The key is the <span class="math inline">\(2\epsilon/h\)</span> term – it gets bigger as <span class="math inline">\(h\)</span> gets smaller.</p>
<p>So if each floating point approximation is no more off than <span class="math inline">\(\epsilon\)</span>, we have this bound on the error:</p>
<p><span class="math display">\[
\text{error} \leq \frac{2\epsilon}{h} + (M/2)h
\]</span></p>
<p>Where <span class="math inline">\(M\)</span> is a constant that depends on the maximum absolute value of the second derivative and the <span class="math inline">\(1/2\)</span> comes from second semester calculus. Choosing <span class="math inline">\(h\)</span> to make this as small as possible is possible with some calculus involving the derivative, but for now we simply note the answer is <span class="math inline">\(h=((2\epsilon)/(M/2))^{1/2}\)</span>.</p>
<p>Taking <span class="math inline">\(\epsilon\)</span> as machine tolerance and (conveniently) <span class="math inline">\(M=1\)</span> we get</p>
<p><span class="math display">\[
h_{min} = \sqrt((2\epsilon)/(1/2)) \approx 10^{-8}
\]</span></p>
<p>Or more precisely:</p>
<div id="2bf74031" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>( (<span class="fl">2</span><span class="fu">*eps</span>())<span class="op">/</span>(<span class="fl">1</span><span class="op">/</span><span class="fl">2</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>2.9802322387695312e-8</code></pre>
</div>
</div>
<p>We can check this is about right, by graphing on a different scale:</p>
<div id="9094b106" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(h; M<span class="op">=</span><span class="fl">1</span>) <span class="op">=</span> <span class="fl">2</span><span class="fu">*eps</span>()<span class="op">/</span>h <span class="op">+</span> (M<span class="op">/</span><span class="fl">2</span>)<span class="op">*</span>h</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">g</span>(x) <span class="op">=</span> <span class="fu">log10</span>(<span class="fu">f</span>(<span class="fl">10.0</span><span class="op">^</span>(<span class="op">-</span>x)))</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g, <span class="fl">1</span>, <span class="fl">10</span>)          <span class="co"># min near 8, which means h like 1e-8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
    <div id="83f287ab-ad5d-4f52-9312-6ba26dc963b8" style="width:672px;height:480px;"></div>
    <script>
        requirejs.config({
        paths: {
            plotly: 'https://cdn.plot.ly/plotly-2.6.3.min'
        }
    });
    require(['plotly'], function (Plotly) {

    Plotly.newPlot('83f287ab-ad5d-4f52-9312-6ba26dc963b8', [
    {
        "xaxis": "x",
        "colorbar": {
            "y": 0.5115740740740741,
            "title": "",
            "len": 0.9604476523767862,
            "x": 0.9941413573303337
        },
        "yaxis": "y",
        "x": [
            1.0,
            1.0929133583643988,
            1.637098409311804,
            1.8902532115778494,
            2.2295750060474044,
            2.509959532730362,
            2.7706893449331873,
            3.0979947985399305,
            3.391589544161308,
            3.7276483635346334,
            3.9788523240313096,
            4.300146983398945,
            4.593393828702078,
            4.927144946706383,
            5.1917171772728254,
            5.520414090757825,
            5.772142798625535,
            6.1270442020588725,
            6.3922555407421955,
            6.543057970986583,
            6.693860401230969,
            6.843206598373312,
            6.992552795515656,
            7.074706885500037,
            7.156860975484419,
            7.2390150654688,
            7.321169155453182,
            7.383920692253856,
            7.446672229054529,
            7.509423765855201,
            7.572175302655875,
            7.651362349441061,
            7.730549396226246,
            7.809736443011433,
            7.8889234897966185,
            7.96216324584217,
            8.035403001887722,
            8.108642757933275,
            8.181882513978827,
            8.332950771312301,
            8.484019028645777,
            8.637144148595736,
            8.790269268545694,
            9.11005196851317,
            9.3619600622186,
            9.935635810093709,
            10.0
        ],
        "showlegend": true,
        "mode": "lines",
        "name": "y1",
        "legendgroup": "y1",
        "line": {
            "color": "rgba(0, 154, 250, 1.000)",
            "shape": "linear",
            "dash": "solid",
            "width": 1
        },
        "y": [
            -1.3010299956639426,
            -1.3939433540283208,
            -1.93812840497506,
            -2.1912832072395036,
            -2.5306050017002826,
            -2.8109895283539594,
            -3.071719340462996,
            -3.3990247935981888,
            -3.692619537483954,
            -4.0286783481938375,
            -4.279882284701648,
            -4.601176825396703,
            -4.8944232313425795,
            -5.228172184505114,
            -5.4927378465329095,
            -5.821401713196447,
            -6.073037741799033,
            -6.42738232382031,
            -6.690943336370558,
            -6.839409975724406,
            -6.985572072236008,
            -7.125892618884926,
            -7.257823587224671,
            -7.324472691279517,
            -7.384941630904924,
            -7.437264424031319,
            -7.479247771312967,
            -7.5029913505919845,
            -7.51858997401319,
            -7.525443095591498,
            -7.523273200734821,
            -7.507832001231017,
            -7.479151674559184,
            -7.438848549084998,
            -7.388869732364268,
            -7.33574538435434,
            -7.277454165220715,
            -7.21520698776779,
            -7.1499864379653095,
            -7.0091520254035595,
            -6.863279233073461,
            -6.7127932484801285,
            -6.560977872381642,
            -6.242183345868697,
            -5.990477391965322,
            -5.416887392051853,
            -5.3525248891694
        ],
        "type": "scatter"
    }
]
, {
    "showlegend": true,
    "xaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            2.0,
            4.0,
            6.0,
            8.0,
            10.0
        ],
        "range": [
            0.7299999999999995,
            10.27
        ],
        "domain": [
            0.032313669124692745,
            0.9941413573303337
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "2",
            "4",
            "6",
            "8",
            "10"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "y",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "paper_bgcolor": "rgba(255, 255, 255, 1.000)",
    "annotations": [],
    "height": 480,
    "margin": {
        "l": 0,
        "b": 20,
        "r": 0,
        "t": 20
    },
    "plot_bgcolor": "rgba(255, 255, 255, 1.000)",
    "yaxis": {
        "showticklabels": true,
        "gridwidth": 0.5,
        "tickvals": [
            -7.0,
            -6.0,
            -5.0,
            -4.0,
            -3.0,
            -2.0
        ],
        "range": [
            -7.712175488589326,
            -1.1142976026661153
        ],
        "domain": [
            0.031350247885680964,
            0.9917979002624672
        ],
        "mirror": false,
        "tickangle": 0,
        "showline": true,
        "ticktext": [
            "−7",
            "−6",
            "−5",
            "−4",
            "−3",
            "−2"
        ],
        "zeroline": false,
        "tickfont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "zerolinecolor": "rgba(0, 0, 0, 1.000)",
        "anchor": "x",
        "visible": true,
        "ticks": "inside",
        "tickmode": "array",
        "linecolor": "rgba(0, 0, 0, 1.000)",
        "showgrid": true,
        "title": "",
        "gridcolor": "rgba(0, 0, 0, 0.100)",
        "titlefont": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 15
        },
        "tickcolor": "rgb(0, 0, 0)",
        "type": "-"
    },
    "legend": {
        "yanchor": "auto",
        "xanchor": "auto",
        "bordercolor": "rgba(0, 0, 0, 1.000)",
        "bgcolor": "rgba(255, 255, 255, 1.000)",
        "borderwidth": 1,
        "tracegroupgap": 0,
        "y": 1.0,
        "font": {
            "color": "rgba(0, 0, 0, 1.000)",
            "family": "sans-serif",
            "size": 11
        },
        "title": {
            "font": {
                "color": "rgba(0, 0, 0, 1.000)",
                "family": "sans-serif",
                "size": 15
            },
            "text": ""
        },
        "traceorder": "normal",
        "x": 1.0
    },
    "width": 672
}
);
    });
    </script>
</div>
</div>
<p>Numerically, we can check how this basically works for some test function:</p>
<div id="6391d44d" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">exp</span>(x) <span class="op">-</span> x<span class="op">^</span><span class="fl">3</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fu">exp</span>(x) <span class="op">-</span> <span class="fl">3</span>x<span class="op">^</span><span class="fl">2</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>[hs [<span class="fu">Df</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">df</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<pre><code>16×2 Matrix{Float64}:
 0.1      -0.074746
 0.01     -0.00682885
 0.001    -0.000676365
 0.0001   -6.75712e-5
 1.0e-5   -6.75649e-6
 1.0e-6   -6.75645e-7
 1.0e-7   -6.65768e-8
 1.0e-8    4.47752e-9
 1.0e-9   -1.73158e-7
 1.0e-10  -1.73158e-7
 1.0e-11   4.26773e-6
 1.0e-12  -0.000106755
 1.0e-13   0.000559379
 1.0e-14  -0.0105429
 1.0e-15  -0.0105429
 1.0e-16   1.32172</code></pre>
</div>
</div>
<p>We see the best case is around <span class="math inline">\(h=10^{-8}\)</span>, as expected by the theory.</p>
<section id="approximation-errors-for-the-central-difference-quotient" class="level3" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="approximation-errors-for-the-central-difference-quotient"><span class="header-section-number">6.6.1</span> Approximation errors for the central difference quotient</h3>
<p>For the central difference quotient, the errors are different. The error in <span class="math inline">\(h\)</span> becomes:</p>
<p><span class="math display">\[
\text{error} \leq (2\epsilon)/(2h) + (M/6) h^2
\]</span></p>
<p>This gives <span class="math inline">\((3\epsilon/M)^{1/3}\)</span> as the choice for <span class="math inline">\(h\)</span> that minimizes the right-hand expression.</p>
<p>Taking <span class="math inline">\(\epsilon\)</span> as the machine tolerance and (conveniently) <span class="math inline">\(M=3\)</span> we get</p>
<p><span class="math display">\[
h_{min} \approx 10^{-6}
\]</span></p>
<p>We can again check how this works for our function and point:</p>
<div id="47d15b58" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>[hs [ <span class="fu">Dc</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">fp</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>16×2 Matrix{Float64}:
 0.1      -0.00725075
 0.01     -7.25139e-5
 0.001    -7.1796e-7
 0.0001   -1.11022e-16
 1.0e-5    7.1676e-9
 1.0e-6    7.28972e-9
 1.0e-7    7.28972e-9
 1.0e-8    1.17306e-8
 1.0e-9   -5.48828e-8
 1.0e-10  -1.65905e-7
 1.0e-11   4.27499e-6
 1.0e-12  -0.000106747
 1.0e-13   0.000559386
 1.0e-14  -0.0105428
 1.0e-15   0.100479
 1.0e-16   1.32172</code></pre>
</div>
</div>
</section>
<section id="practice-4" class="level3" data-number="6.6.2">
<h3 data-number="6.6.2" class="anchored" data-anchor-id="practice-4"><span class="header-section-number">6.6.2</span> Practice</h3>
<section id="question-best-depends-on-the-function-and-value" class="level4">
<h4 class="anchored" data-anchor-id="question-best-depends-on-the-function-and-value">Question: best depends on the function and value</h4>
<p>A subtle point above is that we are minimizing an upper bound in <span class="math inline">\(h\)</span> with an assumption, not the actual error. The actual answer may differ as it depends on a function and the point of evaluation. Look at the function <span class="math inline">\(f(x) = x^2 - 2x\)</span> and compare the values at <span class="math inline">\(0.5\)</span> as above:</p>
<div id="5fe22c66" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>hs <span class="op">=</span> [(<span class="fl">1</span><span class="op">/</span><span class="fl">10</span>)<span class="op">^</span>i for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">16</span>]</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> x<span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="fl">2</span>x</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fl">2</span>x <span class="op">-</span> <span class="fl">2</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>[hs [<span class="fu">Dc</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">df</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>16×2 Matrix{Float64}:
 0.1       2.22045e-16
 0.01     -6.66134e-16
 0.001    -6.66134e-16
 0.0001    1.10356e-13
 1.0e-5   -9.99867e-13
 1.0e-6   -2.87552e-11
 1.0e-7   -2.87552e-11
 1.0e-8   -5.02476e-9
 1.0e-9   -2.72292e-8
 1.0e-10  -8.27404e-8
 1.0e-11  -8.27404e-8
 1.0e-12   2.21217e-5
 1.0e-13   0.000244166
 1.0e-14   0.000799278
 1.0e-15   0.000799278
 1.0e-16  -0.110223</code></pre>
</div>
</div>
<p>What is the best value of <span class="math inline">\(h\)</span>?</p>
<p>For which of these values of <span class="math inline">\(h\)</span> is the error smallest?</p>
<div id="0b8ecdbc" class="cell" data-execution_count="64">
<div class="cell-output cell-output-display" data-execution_count="64">
<script>
var ID = "Wgxn6kfn"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="Wgxn6kfn" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_Wgxn6kfn" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_Wgxn6kfn_1">
    <input class="form-check-input" type="radio" name="radio_Wgxn6kfn" id="radio_Wgxn6kfn_1" value="1">
    
    <span class="label-body px-1">
        <code>1e-3</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_Wgxn6kfn_2">
    <input class="form-check-input" type="radio" name="radio_Wgxn6kfn" id="radio_Wgxn6kfn_2" value="2">
    
    <span class="label-body px-1">
        <code>1e-6</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_Wgxn6kfn_3">
    <input class="form-check-input" type="radio" name="radio_Wgxn6kfn" id="radio_Wgxn6kfn_3" value="3">
    
    <span class="label-body px-1">
        <code>1e-8</code>
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_Wgxn6kfn_4">
    <input class="form-check-input" type="radio" name="radio_Wgxn6kfn" id="radio_Wgxn6kfn_4" value="4">
    
    <span class="label-body px-1">
        <code>1e-12</code>
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="Wgxn6kfn_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_Wgxn6kfn').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_Wgxn6kfn')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_Wgxn6kfn"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 1;
    var msgBox = document.getElementById('Wgxn6kfn_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_Wgxn6kfn")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_Wgxn6kfn")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
</div></div></section>
<section id="question-error-analysis" class="level4">
<h4 class="anchored" data-anchor-id="question-error-analysis">Question: error analysis</h4>
<p>Consider these commands:</p>
<div id="20f5387a" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(x) <span class="op">=</span> <span class="fu">sin</span>(x)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span>(x) <span class="op">=</span> <span class="fu">cos</span>(x)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>[hs [ <span class="fu">Dc</span>(f,h<span class="op">=</span>h)(<span class="fl">.5</span>) <span class="op">-</span> <span class="fu">df</span>(<span class="fl">.5</span>) for h <span class="kw">in</span> hs] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Do they show the smallest error around <span class="math inline">\(10^{-6}\)</span> as expected?</p>
<div id="c6815efe" class="cell" data-execution_count="66">
<div class="cell-output cell-output-display" data-execution_count="65">
<script>
var ID = "AQ3RnEVg"
</script>
<form class="mx-2 my-3 mw-100 qqquestion" name="WeaveQuestion" data-id="AQ3RnEVg" data-controltype="" onsubmit="return false;">
  <div class="form-group ">
    <div class="controls">
      <div class="form" id="controls_AQ3RnEVg" correct="-1" attempts="0">

    <div style="padding-top: 5px">
    <fieldset style="border:0px">
<legend style="display: none" aria-label="Select an item">Select an item</legend>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_AQ3RnEVg_1">
    <input class="form-check-input" type="radio" name="radio_AQ3RnEVg" id="radio_AQ3RnEVg_1" value="1">
    
    <span class="label-body px-1">
        true
    </span>
    </label>
</div>
<div class="form-check">
    <label class="form-check-label qqradio" for="radio_AQ3RnEVg_2">
    <input class="form-check-input" type="radio" name="radio_AQ3RnEVg" id="radio_AQ3RnEVg_2" value="2">
    
    <span class="label-body px-1">
        false
    </span>
    </label>
</div>
</fieldset>

         </div>
    </div>
    <div id="AQ3RnEVg_message" class="qqmessage" style="padding-bottom: 15px">
    </div>

<script>
document.getElementById('controls_AQ3RnEVg').addEventListener("quizquestion_answer", (e) => {
          var o = document.getElementById('controls_AQ3RnEVg')
          var atts = Number(o.getAttribute("attempts"))
          o.setAttribute("correct",  e.detail.correct);
          o.setAttribute("attempts", atts + 1)
      }, true)
</script>

<script text="text/javascript">
document.querySelectorAll('input[name="radio_AQ3RnEVg"]').forEach(function(rb) {
rb.addEventListener("change", function() {
    var correct = rb.value == 1;
    var msgBox = document.getElementById('AQ3RnEVg_message');
    
  if(correct) {
    msgBox.innerHTML = "<div class='pluto-output admonition note alert alert-success'> <span>✔&nbsp; Correct </span> </div>";
    var explanation = document.getElementById("explanation_AQ3RnEVg")
    if (explanation != null) {
       explanation.style.display = "none";
    }
      const correct_answer   = new CustomEvent("quizquestion_answer",
          {bubbles:true, detail:{correct: 1}}
  );
  this.dispatchEvent(correct_answer);

  } else {
    msgBox.innerHTML = "<div class='pluto-output admonition alert alert-danger'> <span>Χ&nbsp; Incorrect </span> </div>";
    var explanation = document.getElementById("explanation_AQ3RnEVg")
    if (explanation != null) {
       explanation.style.display = "block";
    }
      const incorrect_answer = new CustomEvent("quizquestion_answer",
           {bubbles:true, detail:{correct: 0}}
  );
  this.dispatchEvent(incorrect_answer);

  }

})});

</script>
</div>
</div></form>
<hr>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Environment of <code>Julia</code> when generated
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><code>Julia</code> version:</p>
<div id="03d48ed3" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="cn">VERSION</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>v"1.11.2"</code></pre>
</div>
</div>
<p>Packages and versions:</p>
<div id="ef452c95" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Pkg</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Pkg</span>.<span class="fu">status</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Status `~/export/JuliaProjects/MTH229/mth229.github.io/Project.toml`
  [a2e0e22d] CalculusWithJulia v0.2.8 `~/julia/CalculusWithJulia`
  [7073ff75] IJulia v1.26.0
  [b964fa9f] LaTeXStrings v1.4.0
  [ebaf19f5] MTH229 v0.3.2
  [91a5bcdd] Plots v1.40.9
  [f27b6e38] Polynomials v4.0.12
  [438e738f] PyCall v1.96.4
  [612c44de] QuizQuestions v0.3.25
  [295af30f] Revise v3.7.1
  [f2b01f46] Roots v2.2.3
  [24249f21] SymPy v2.2.1
  [56ddb016] Logging v1.11.0</code></pre>
</div>
</div>
</div>
</div>
</div>


</div></div></section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./limits.html" class="pagination-link" aria-label="Investigating limits with Julia">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Investigating limits with Julia</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./newton.html" class="pagination-link" aria-label="Newton's method using julia">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Newton’s method using julia</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/MTH229/mth229.github.io/edit/master/quarto/derivatives.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/MTH229/mth229.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script src="https://cdn.jsdelivr.net/gh/yasserelsaid/chatbot@v0.1.4/index.min.js" data-chatbotid="index-pdf-k527qtaap"></script>




</body></html>